{"version":3,"sources":["webpack:///src/app/pages/submit-project/submit-project.component.html","webpack:///src/app/pages/submit-project/submit-project.component.scss","webpack:///src/app/pages/submit-project/submit-project.component.ts","webpack:///src/app/pages/submit-project/submit-project.module.ts"],"names":["SubmitProjectComponent","appService","appSettings","translate","tokenStorage","activatedRoute","toolbarTypes","headerTypes","flags","name","image","code","project","projects","done","flag","clear","fileName","vo","id","deleteFile","subscribe","removeElement","fileNames","lang","navigator","language","substring","get","console","log","params","getUserOpenProject","getProject","getUserId","parameters","push","getAllByCriteriaWithFiles","data","length","videos","index","undefined","removeItem","processDeleteResult","messages","projectId","getOneWithChildsAndFiles","result","images","forEach","item","link","preview","files","res","error","almostDone","horizontalStepper","selectedIndex","title","location","budget","duration","description","objectif","inovation","existant","resource","constraints","budgetLine","feasibility","execution","modifiedBy","user","u","Number","formData","FormData","remainingFileNames","i","file","append","pathSplitArray","split","status","saveWithFile","save","hasToken","getRole","$event","selector","template","routes","path","component","pathMatch","SubmitProjectModule","declarations","imports","forChild","forRoot","theme","modules","syntax","toolbar","header","list","script","indent","direction","size","color","background","font","align"],"mappings":"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","file":"pages-submit-project-submit-project-module-es5.js","sourcesContent":["export default \"<div class=\\\"p-3\\\">\\r\\n  <div class=\\\"theme-container\\\">\\r\\n\\r\\n    <form name=\\\"form\\\" (ngSubmit)=\\\"f.form.valid && save()\\\" #f=\\\"ngForm\\\" validate>\\r\\n\\r\\n      <mat-card ngClass.lt-lg=\\\"p-0\\\" *ngIf=\\\"!done&&!tokenStorage.hasToken()\\\">\\r\\n\\r\\n        <div fxLayout=\\\"row wrap\\\">\\r\\n          <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n            <h1>{{'COMMON.CONNECT_TO_SUBMIT' | translate }}</h1>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div fxLayout=\\\"row wrap\\\">\\r\\n          <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"50\\\" class=\\\"p-3\\\">\\r\\n            <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"text-center\\\">\\r\\n              <a mat-raised-button [routerLink]=\\\"['/login', '1']\\\" color=\\\"accent\\\" class=\\\"w-100\\\">\\r\\n                {{'COMMON.SIGN_IN' | translate }}</a>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"50\\\" class=\\\"p-3\\\">\\r\\n            <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"text-center\\\">\\r\\n              <a mat-raised-button [routerLink]=\\\"['/register', '1']\\\" color=\\\"accent\\\"\\r\\n                class=\\\"w-100\\\">{{'COMMON.NEW_REGISTER' | translate }}</a>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </mat-card>\\r\\n\\r\\n      <mat-card ngClass.lt-lg=\\\"p-0\\\" *ngIf=\\\"done&&tokenStorage.hasToken()\\\">\\r\\n\\r\\n        <div fxLayout=\\\"row wrap\\\">\\r\\n          <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n            <h2 style=\\\"color: green;\\\">{{'MESSAGE.PROJECT_SUBMITTED' | translate }}</h2>\\r\\n            <br/>\\r\\n            <a mat-button [routerLink]=\\\"['/account/project-list']\\\" color=\\\"primary\\\"\\r\\n                        class=\\\"w-100\\\">{{'MESSAGE.CONNECT_EDIT_PROJECT' | translate }}</a>\\r\\n          </div> \\r\\n        </div>\\r\\n      </mat-card>\\r\\n\\r\\n      <mat-card ngClass.lt-lg=\\\"p-0\\\" *ngIf=\\\"!done&&tokenStorage.hasToken()\\\">\\r\\n        <!--   <div fxLayout=\\\"row wrap\\\">\\r\\n          <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"h-100 w-100 text-right\\\">\\r\\n            <button type=\\\"submit\\\" mat-raised-button color=\\\"primary\\\">\\r\\n              <span>{{horizontalStepper.selectedIndex < 5?('COMMON.NEXT'|translate):('COMMON.SUBMIT_PROJECT'|translate)}}</span>\\r\\n              <span class=\\\"material-icons\\\">\\r\\n                navigate_next\\r\\n              </span>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div> -->\\r\\n        <mat-horizontal-stepper #horizontalStepper linear=\\\"true\\\" class=\\\"submit-project\\\"\\r\\n          (selectionChange)=\\\"onSelectionChange($event)\\\">\\r\\n          <mat-step label=\\\"Presentation\\\">\\r\\n            <div class=\\\"step-content\\\">\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"33\\\" class=\\\"p-3\\\">\\r\\n                  <mat-form-field appearance=\\\"outline\\\" class=\\\"w-100\\\">\\r\\n                    <mat-label> {{'COMMON.TITLE' | translate}}\\r\\n                    </mat-label>\\r\\n                    <input matInput type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"title\\\" [(ngModel)]=\\\"project.title\\\" name=\\\"title\\\"\\r\\n                      #title=\\\"ngModel\\\" required>\\r\\n                    <mat-error *ngIf=\\\"f.submitted && title.invalid\\\" severity=\\\"error\\\">\\r\\n                      {{ 'VALIDATION.FIELD_REQUIRED' | translate }}\\r\\n                    </mat-error>\\r\\n                  </mat-form-field>\\r\\n                </div>\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"33\\\" class=\\\"p-3\\\">\\r\\n                  <mat-form-field appearance=\\\"outline\\\" class=\\\"w-100\\\">\\r\\n                    <mat-label> {{'COMMON.PROJECT_LOCATION' | translate}}\\r\\n                    </mat-label>\\r\\n                    <input matInput type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"location\\\" [(ngModel)]=\\\"project.location\\\"\\r\\n                      name=\\\"location\\\" #location=\\\"ngModel\\\" required>\\r\\n                    <mat-error *ngIf=\\\"f.submitted && title.invalid\\\" severity=\\\"error\\\">\\r\\n                      {{ 'VALIDATION.FIELD_REQUIRED' | translate }}\\r\\n                    </mat-error>\\r\\n                  </mat-form-field>\\r\\n                </div>\\r\\n\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"33\\\" class=\\\"p-3\\\">\\r\\n                  <mat-form-field appearance=\\\"outline\\\" class=\\\"w-100\\\">\\r\\n                    <mat-label> {{'COMMON.BUDGET' | translate}}\\r\\n                    </mat-label>\\r\\n                    <input matInput type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"budget\\\" [(ngModel)]=\\\"project.budget\\\"\\r\\n                      name=\\\"budget\\\" #budget=\\\"ngModel\\\" required>\\r\\n                    <mat-error *ngIf=\\\"f.submitted && budget.invalid\\\" severity=\\\"error\\\">\\r\\n                      {{ 'VALIDATION.FIELD_REQUIRED' | translate }}\\r\\n                    </mat-error>\\r\\n                  </mat-form-field>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"33\\\" class=\\\"p-3\\\">\\r\\n                  <mat-form-field appearance=\\\"outline\\\" class=\\\"w-100\\\">\\r\\n                    <mat-label> {{'COMMON.PROJECT_DURATION' | translate}}\\r\\n                    </mat-label>\\r\\n                    <input matInput type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"duration\\\" [(ngModel)]=\\\"project.duration\\\"\\r\\n                      name=\\\"duration\\\" #duration=\\\"ngModel\\\">                 \\r\\n                  </mat-form-field>\\r\\n                </div>\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"33\\\" class=\\\"p-3\\\">\\r\\n                  <mat-form-field class=\\\"w-100\\\">\\r\\n                    <mat-label> {{'COMMON.PROJECTED_START_DATE' | translate}}</mat-label><br />\\r\\n                    <input matInput [matDatepicker]=\\\"projectedStartDatePicker\\\" class=\\\"form-control\\\"\\r\\n                      id=\\\"projectedStartDate\\\" [(ngModel)]=\\\"project.projectedStartDate\\\" name=\\\"projectedStartDate\\\"\\r\\n                      #projectedStartDate=\\\"ngModel\\\">\\r\\n                    <mat-datepicker-toggle matSuffix [for]=\\\"projectedStartDatePicker\\\"></mat-datepicker-toggle>\\r\\n                    <mat-datepicker #projectedStartDatePicker></mat-datepicker>\\r\\n                  </mat-form-field>\\r\\n                </div>\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"33\\\" class=\\\"p-3\\\">\\r\\n                  <mat-form-field class=\\\"w-100\\\">\\r\\n                    <mat-label> {{'COMMON.PROJECTED_END_DATE' | translate}}</mat-label><br />\\r\\n                    <input matInput [matDatepicker]=\\\"projectedEndDatePicker\\\" class=\\\"form-control\\\" id=\\\"projectedEndDate\\\"\\r\\n                      [(ngModel)]=\\\"project.projectedEndDate\\\" name=\\\"projectedEndDate\\\" #projectedEndDate=\\\"ngModel\\\">\\r\\n                    <mat-datepicker-toggle matSuffix [for]=\\\"projectedEndDatePicker\\\"></mat-datepicker-toggle>\\r\\n                    <mat-datepicker #projectedEndDatePicker></mat-datepicker>\\r\\n                  </mat-form-field>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <mat-label> {{'MESSAGE.PROJECT_DESCRIPTION' | translate}} <font color=\\\"red\\\">*</font>\\r\\n                  </mat-label>\\r\\n                  <quill-editor class=\\\"form-control\\\" id=\\\"description\\\" [(ngModel)]=\\\"project.description\\\"\\r\\n                    name=\\\"description\\\" #description=\\\"ngModel\\\" required></quill-editor>\\r\\n                  <mat-error *ngIf=\\\"f.submitted && description.invalid\\\" severity=\\\"error\\\">\\r\\n                    {{ 'VALIDATION.FIELD_REQUIRED' | translate }}\\r\\n                  </mat-error>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <mat-label> {{'MESSAGE.PROJECT_OBJECTIVE' | translate}}<font color=\\\"red\\\">*\\r\\n                    </font>\\r\\n                  </mat-label>\\r\\n                  <quill-editor class=\\\"form-control\\\" id=\\\"description\\\" [(ngModel)]=\\\"project.objectif\\\" name=\\\"objectif\\\"\\r\\n                    #objectif=\\\"ngModel\\\" required></quill-editor>\\r\\n                  <mat-error *ngIf=\\\"f.submitted && objectif.invalid\\\" severity=\\\"error\\\">\\r\\n                    {{ 'VALIDATION.FIELD_REQUIRED' | translate }}\\r\\n                  </mat-error>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n            </div>\\r\\n          </mat-step>\\r\\n\\r\\n          <mat-step label=\\\"Innovation\\\">\\r\\n            <div class=\\\"step-content\\\">\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <mat-label> {{'MESSAGE.PROJECT_INOV' | translate}}\\r\\n                    <font color=\\\"red\\\"><strong>*</strong></font>\\r\\n                  </mat-label>\\r\\n                  <quill-editor class=\\\"form-control\\\" id=\\\"inovation\\\" [(ngModel)]=\\\"project.inovation\\\" name=\\\"inovation\\\"\\r\\n                    #inovation=\\\"ngModel\\\"></quill-editor>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <mat-label> {{'MESSAGE.PROJECT_EXISTANT' | translate}}\\r\\n                    <font color=\\\"red\\\"><strong>*</strong></font>\\r\\n                  </mat-label>\\r\\n                  <quill-editor class=\\\"form-control\\\" id=\\\"existant\\\" [(ngModel)]=\\\"project.existant\\\" name=\\\"existant\\\"\\r\\n                    #existant=\\\"ngModel\\\"></quill-editor>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-step>\\r\\n\\r\\n\\r\\n        <mat-step label=\\\"{{'COMMON.SWAT'|translate}}\\\">\\r\\n            <div class=\\\"step-content\\\">\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <mat-label> {{'MESSAGE.PROJECT_RESOURCE' | translate}}\\r\\n                    <font color=\\\"red\\\"><strong>*</strong></font>\\r\\n                  </mat-label>\\r\\n                  <quill-editor class=\\\"form-control\\\" id=\\\"resource\\\" [(ngModel)]=\\\"project.resource\\\" name=\\\"resource\\\"\\r\\n                    #resource=\\\"ngModel\\\"></quill-editor>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <mat-label> {{'MESSAGE.PROJECT_RISK' | translate}}\\r\\n                    <font color=\\\"red\\\"><strong>*</strong></font>\\r\\n                  </mat-label>\\r\\n                  <quill-editor class=\\\"form-control\\\" id=\\\"constraints\\\" [(ngModel)]=\\\"project.constraints\\\"\\r\\n                    name=\\\"constraints\\\" #constraints=\\\"ngModel\\\"></quill-editor>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-step>\\r\\n\\r\\n        <mat-step label=\\\"{{'COMMON.RESULT_BUDGET'|translate}}\\\">\\r\\n            <div class=\\\"step-content\\\">\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <mat-label> {{'MESSAGE.PROJECT_BUDGET' | translate}}\\r\\n                    <font color=\\\"red\\\"><strong>*</strong></font>\\r\\n                  </mat-label>\\r\\n                  <quill-editor class=\\\"form-control\\\" id=\\\"budgetLine\\\" [(ngModel)]=\\\"project.budgetLine\\\" name=\\\"budgetLine\\\"\\r\\n                    #budgetLine=\\\"ngModel\\\"></quill-editor>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <mat-label> {{'MESSAGE.PROJECT_RESULT' | translate}}\\r\\n                    <font color=\\\"red\\\"><strong>*</strong></font>\\r\\n                  </mat-label>\\r\\n                  <quill-editor class=\\\"form-control\\\" id=\\\"result\\\" [(ngModel)]=\\\"project.result\\\" name=\\\"result\\\"\\r\\n                    #result=\\\"ngModel\\\"></quill-editor>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-step>\\r\\n\\r\\n        <mat-step label=\\\"{{'COMMON.EXEC_FEASIBILITY'|translate}}\\\">\\r\\n            <div class=\\\"step-content\\\">\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <mat-label> {{'MESSAGE.PROJECT_FEASIBILITY' | translate}}\\r\\n                    <font color=\\\"red\\\"><strong>*</strong></font>\\r\\n                  </mat-label>\\r\\n                  <quill-editor class=\\\"form-control\\\" id=\\\"feasibility\\\" [(ngModel)]=\\\"project.feasibility\\\"\\r\\n                    name=\\\"feasibility\\\" #feasibility=\\\"ngModel\\\"></quill-editor>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <mat-label> {{'MESSAGE.PROJECT_EXECUTION' | translate}}\\r\\n                    <font color=\\\"red\\\"><strong>*</strong></font>\\r\\n                  </mat-label>\\r\\n                  <quill-editor class=\\\"form-control\\\" id=\\\"execution\\\" [(ngModel)]=\\\"project.execution\\\" name=\\\"execution\\\"\\r\\n                    #execution=\\\"ngModel\\\"></quill-editor>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </mat-step>\\r\\n          <mat-step label=\\\"Media\\\">\\r\\n            <div class=\\\"step-content\\\">\\r\\n\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <p class=\\\"mb-0\\\"><span class=\\\"uppercase fw-500\\\">{{'COMMON.PICTURE' | translate}}</span><span\\r\\n                      class=\\\"text-muted mx-3\\\">(max: 20 images)</span></p>\\r\\n                  <input-file [(ngModel)]=\\\"files\\\" name=\\\"gallery\\\" #gallery=\\\"ngModel\\\" fileLimit=\\\"20\\\" fileAccept=\\\"image/*\\\"\\r\\n                    [linkEnabled]=\\\"false\\\" multiple>\\r\\n                  </input-file>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n              <div fxLayout=\\\"row wrap\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"p-3\\\">\\r\\n                  <div fxLayout=\\\"row wrap\\\">\\r\\n                    <div fxFlex=\\\"100\\\" fxLayoutAlign=\\\"start center\\\" class=\\\"my-3 px-2\\\">\\r\\n                      <p class=\\\"mb-0\\\"><span class=\\\"uppercase fw-500\\\">{{'COMMON.VIDEO' | translate}}</span><span\\r\\n                          class=\\\"text-muted mx-3\\\">( {{'COMMON.YOUTUBE_LINK'|translate}})</span></p>\\r\\n                      <button type=\\\"button\\\" mat-icon-button color=\\\"primary\\\" (click)=\\\"addVideo()\\\"\\r\\n                        matTooltip=\\\"{{'COMMON.ADD_VIDEO'|translate}}\\\" matTooltipPosition=\\\"after\\\">\\r\\n                        <mat-icon>add_circle</mat-icon>\\r\\n                      </button>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div fxLayout=\\\"row wrap\\\">\\r\\n                      <div *ngFor=\\\"let video of project.videos; let i = index;\\\" fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"step-section\\\">\\r\\n                        <div fxFlex=\\\"4\\\" class=\\\"fw-500 text-center pt-3\\\">{{i+1}}.</div>\\r\\n                        <div fxFlex=\\\"90\\\" fxLayout=\\\"row wrap\\\">\\r\\n                          <mat-form-field appearance=\\\"outline\\\" fxFlex=\\\"100\\\" fxFlex.gt-xs=\\\"40\\\" class=\\\"px-2\\\">\\r\\n                            <mat-label>{{'COMMON.NAME' | translate}}</mat-label>\\r\\n                            <input matInput placeholder=\\\"{{'COMMON.NAME' | translate}}\\\" [(ngModel)]=\\\"video.name\\\"\\r\\n                              name=\\\"videoName + {{i}}\\\" autocomplete=\\\"off\\\">\\r\\n                          </mat-form-field>\\r\\n                          <mat-form-field appearance=\\\"outline\\\" fxFlex=\\\"100\\\" fxFlex.gt-xs=\\\"60\\\" class=\\\"px-2\\\">\\r\\n                            <mat-label>{{'COMMON.LINK' | translate}}</mat-label>\\r\\n                            <input matInput placeholder=\\\"{{'COMMON.LINK_TO_VIDEO' | translate}}\\\"\\r\\n                              [(ngModel)]=\\\"video.link\\\" name=\\\"videoLink + {{i}}\\\" autocomplete=\\\"off\\\">\\r\\n                          </mat-form-field>\\r\\n                        </div>\\r\\n                        <div fxFlex=\\\"6\\\" class=\\\"text-center pt-2\\\">\\r\\n                          <button type=\\\"button\\\" mat-icon-button color=\\\"warn\\\" (click)=\\\"deleteVideo(video.id, i)\\\"\\r\\n                            matTooltip=\\\"{{'COMMON.DELETE' | translate}}\\\">\\r\\n                            <mat-icon>cancel</mat-icon>\\r\\n                          </button>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    \\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n            </div>\\r\\n          </mat-step>\\r\\n        </mat-horizontal-stepper>\\r\\n        <div fxLayout=\\\"row wrap\\\" *ngIf=\\\"canEdit()||isAdmin()\\\">\\r\\n          <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"100\\\" class=\\\"h-100 w-100 text-right\\\">\\r\\n            <h2 *ngIf=\\\"messages\\\" style=\\\"color: green;\\\"> {{messages}} </h2>\\r\\n            <h2 *ngIf=\\\"error\\\" style=\\\"color: red;\\\"> {{error}} </h2>\\r\\n            <button type=\\\"submit\\\" mat-raised-button color=\\\"primary\\\">\\r\\n              <span>{{horizontalStepper.selectedIndex < 5?('COMMON.NEXT'|translate):('COMMON.SUBMIT_PROJECT'|translate)}}</span>\\r\\n              <span class=\\\"material-icons\\\">\\r\\n                navigate_next\\r\\n              </span>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </mat-card>\\r\\n    </form>\\r\\n\\r\\n  </div>\\r\\n</div>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N1Ym1pdC1wcm9qZWN0L3N1Ym1pdC1wcm9qZWN0LmNvbXBvbmVudC5zY3NzIn0= */\";","/// <reference types=\"@types/googlemaps\" />\r\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { MatStepper } from '@angular/material/stepper';\r\nimport { AppService } from 'src/app/app.service';\r\nimport { Project, User, Video } from 'src/app/app.models';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { AppSettings } from 'src/app/app.settings';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TokenStorage } from 'src/app/token.storage';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Cookie } from 'ng2-cookies/ng2-cookies';\r\nimport { BaseComponent } from 'src/app/shared/baseComponent';\r\n\r\n@Component({\r\n  selector: 'app-submit-project',\r\n  templateUrl: './submit-project.component.html',\r\n  styleUrls: ['./submit-project.component.scss']\r\n})\r\nexport class SubmitProjectComponent extends BaseComponent implements OnInit {\r\n  @ViewChild('horizontalStepper') horizontalStepper: MatStepper;\r\n  @ViewChild('addressAutocomplete') addressAutocomplete: ElementRef;\r\n  public toolbarTypes = [1, 2];\r\n  public headerTypes = ['default', 'image', 'carousel'];\r\n  public flags = [\r\n    { name: 'Francais', image: 'assets/images/flags/fr.svg', code: 'fr' },\r\n    { name: 'English', image: 'assets/images/flags/gb.svg', code: 'en' }\r\n  ];\r\n\r\n  public flag: any;\r\n  project: Project = new Project();\r\n  projects: Project[] = [];\r\n  messages: any;\r\n  error: string;\r\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\r\n\r\n  formData: FormData;\r\n  files: any[];\r\n  picture: any;\r\n  news: any;\r\n  done = false;\r\n\r\n  constructor(public appService: AppService,\r\n    public appSettings: AppSettings,\r\n    public translate: TranslateService,\r\n    public tokenStorage: TokenStorage,\r\n    private activatedRoute: ActivatedRoute) {\r\n\r\n    super(translate, tokenStorage);\r\n\r\n  }\r\n\r\n  public changeLang(flag) {\r\n    this.flag = flag;\r\n    if (this.project === null) {\r\n      this.clear();\r\n    }\r\n  }\r\n\r\n  public deleteFile(project: Project, fileName: string) {\r\n    const vo = { id: project.id, name: fileName };\r\n    this.appService.deleteFile('Project', vo)\r\n      .subscribe(() => {\r\n        this.removeElement(this.project.fileNames, fileName);\r\n      });\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    let lang = navigator.language;\r\n    if (lang) {\r\n      lang = lang.substring(0, 2);\r\n    }\r\n    if (Cookie.get('lang')) {\r\n      lang = Cookie.get('lang');\r\n      console.log('Using cookie lang=' + Cookie.get('lang'));\r\n    } else if (lang) {\r\n      console.log('Using browser lang=' + lang);\r\n      // this.translate.use(lang);\r\n    } else {\r\n      lang = 'fr';\r\n      console.log('Using default lang=fr');\r\n    }\r\n    if (lang === 'fr') {\r\n      this.flag = this.flags[0];\r\n    } else {\r\n      this.flag = this.flags[1];\r\n    }\r\n\r\n    this.activatedRoute.params.subscribe(params => {\r\n      if (params.id === '0') {\r\n        this.clear();\r\n        this.getUserOpenProject();\r\n      } else {\r\n        this.getProject(params.id);\r\n      }\r\n    });\r\n  }\r\n\r\n  getUserOpenProject() {\r\n    if (this.tokenStorage.getUserId()) {\r\n      const parameters: string[] = [];\r\n      parameters.push('e.user.id = |abc|' + this.tokenStorage.getUserId() + '|Long');\r\n      parameters.push('e.status = |efg|0|Integer');\r\n      this.appService.getAllByCriteriaWithFiles('Project', parameters)\r\n        .subscribe((data: Project[]) => {\r\n          if (data && data.length > 0) {\r\n            this.project = data[0];\r\n            this.getProject(this.project.id);\r\n            console.log(this.project);\r\n          }\r\n        });\r\n    }\r\n  }\r\n  public addVideo(): void {\r\n    if(!this.project.videos){\r\n      this.project.videos =[];\r\n    }\r\n    this.project.videos.push(new Video());\r\n  }\r\n\r\n  public deleteVideo(id: number, index: number) {\r\n\r\n    if (id === undefined || id === null) {\r\n      this.removeItem(this.project.videos, id);\r\n      return;\r\n    }\r\n\r\n    this.appService.delete(id, 'com.wack.model.Video')\r\n      .subscribe(data => {\r\n        this.removeItem(this.project.videos, id);\r\n        this.processDeleteResult(data, this.messages);\r\n      });\r\n  }\r\n\r\n  getProject(projectId: number) {\r\n    this.appService.getOneWithChildsAndFiles(projectId, 'Project')\r\n      .subscribe(result => {\r\n        if (result.id > 0) {\r\n          this.project = result;\r\n          console.log(this.project);\r\n          const images: any[] = [];\r\n          this.project.fileNames.forEach(item => {\r\n            const image = {\r\n              link: 'assets/images/projects/' + projectId + '/' + item,\r\n              preview: 'assets/images/projects/' + projectId + '/' + item\r\n            }\r\n            images.push(image);\r\n          })\r\n          this.files = images;\r\n        } else {\r\n          this.translate.get(['COMMON.READ', 'MESSAGE.READ_FAILED']).subscribe(res => {\r\n            this.messages = res['MESSAGE.READ_FAILED'];\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  save() {\r\n    this.messages = '';\r\n    this.error = '';\r\n    let almostDone = false;\r\n    if (this.horizontalStepper.selectedIndex < 5) {\r\n      if (this.horizontalStepper.selectedIndex === 0) {\r\n        if (!this.project.title || this.project.title.length < 1 ||\r\n          !this.project.location || this.project.location.length < 1 ||\r\n          !this.project.budget || !(this.project.budget > 0) ||\r\n          !this.project.duration || this.project.duration.length < 1 ||\r\n          !this.project.description || this.project.description.length < 1 ||\r\n          !this.project.objectif || this.project.objectif.length < 1\r\n        ) {\r\n          this.translate.get(['VALIDATION.FILL_FIELD_MARKED', 'COMMON.ERROR']).subscribe(res => {\r\n            this.error = res['VALIDATION.FILL_FIELD_MARKED'];\r\n          });\r\n        } else {\r\n          this.horizontalStepper.selectedIndex++;\r\n        }\r\n      } else if (this.horizontalStepper.selectedIndex === 1) {\r\n        if (!this.project.inovation || this.project.inovation.length < 1 ||\r\n          !this.project.existant || this.project.existant.length < 1\r\n        ) {\r\n          this.translate.get(['VALIDATION.FILL_FIELD_MARKED', 'COMMON.ERROR']).subscribe(res => {\r\n            this.error = res['VALIDATION.FILL_FIELD_MARKED'];\r\n          });\r\n        } else {\r\n          this.horizontalStepper.selectedIndex++;\r\n        }\r\n      } else if (this.horizontalStepper.selectedIndex === 2) {\r\n        if (!this.project.resource || this.project.resource.length < 1 ||\r\n          !this.project.constraints || this.project.constraints.length < 1\r\n        ) {\r\n          this.translate.get(['VALIDATION.FILL_FIELD_MARKED', 'COMMON.ERROR']).subscribe(res => {\r\n            this.error = res['VALIDATION.FILL_FIELD_MARKED'];\r\n          });\r\n        } else {\r\n          this.horizontalStepper.selectedIndex++;\r\n        }\r\n      } else if (this.horizontalStepper.selectedIndex === 3) {\r\n        if (!this.project.budgetLine || this.project.budgetLine.length < 1 ||\r\n          !this.project.result || this.project.result.length < 1\r\n        ) {\r\n          this.translate.get(['VALIDATION.FILL_FIELD_MARKED', 'COMMON.ERROR']).subscribe(res => {\r\n            this.error = res['VALIDATION.FILL_FIELD_MARKED'];\r\n          });\r\n        } else {\r\n          this.horizontalStepper.selectedIndex++;\r\n        }\r\n      } else if (this.horizontalStepper.selectedIndex === 4) {\r\n        if (!this.project.feasibility || this.project.feasibility.length < 1 ||\r\n          !this.project.execution || this.project.execution.length < 1\r\n        ) {\r\n          this.translate.get(['VALIDATION.FILL_FIELD_MARKED', 'COMMON.ERROR']).subscribe(res => {\r\n            this.error = res['VALIDATION.FILL_FIELD_MARKED'];\r\n          });\r\n        } else {\r\n          this.horizontalStepper.selectedIndex++;\r\n        }\r\n      }\r\n    }else{\r\n      almostDone=true;\r\n    }\r\n    console.log(this.error);\r\n    if (!this.error) {\r\n      console.log('Passed ' + this.error);\r\n      this.project.modifiedBy = +this.tokenStorage.getUserId();\r\n      if(this.project.user && this.project.user.id>0){\r\n        // do nothing\r\n      }else{\r\n        const u = new User();\r\n        u.id = Number(this.tokenStorage.getUserId());\r\n        this.project.user = u;\r\n      }\r\n\r\n      this.formData = new FormData();\r\n      this.project.remainingFileNames = [];\r\n      // tslint:disable-next-line: prefer-for-of\r\n      for (let i = 0; i < this.files.length; i++) {\r\n        if (this.files[i].file) {\r\n          console.log('Additional file added: ' + 'picture.' + this.files[i].file.name);\r\n          this.formData.append('file[]', this.files[i].file, 'picture.' + this.files[i].file.name);\r\n        } else {\r\n          console.log(this.files[i]);\r\n          const pathSplitArray = this.files[i].link.split('/');\r\n          this.project.remainingFileNames.push(pathSplitArray[pathSplitArray.length - 1]);\r\n        }\r\n      }\r\n      if(!(this.project.status && this.project.status>0)){\r\n        this.project.status = 0;\r\n      }      \r\n      if (this.files.length > 0) {\r\n        this.appService.saveWithFile(this.project, 'Project', this.formData, 'saveWithFile')\r\n          .subscribe(result => {\r\n            if (result.id > 0) {\r\n              console.log('saveWithFile');\r\n              this.project = result;\r\n              console.log('Index = '+ this.horizontalStepper.selectedIndex);\r\n              if (almostDone) {\r\n                this.done = true;\r\n              } else {\r\n                this.translate.get(['MESSAGE.DATA_SAVED', 'COMMON.SUCCESS']).subscribe(res => {\r\n                  this.messages = res['MESSAGE.DATA_SAVED'];\r\n                });\r\n              }\r\n            } else {\r\n              this.translate.get(['MESSAGE.DATA_SAVED_FAILED', 'COMMON.ERROR']).subscribe(res => {\r\n                this.error = res['MESSAGE.DATA_SAVED_FAILED'];\r\n              });\r\n            }\r\n          });\r\n      } else {\r\n        this.appService.save(this.project, 'Project')\r\n          .subscribe(result => {\r\n            if (result.id > 0) {\r\n              this.project = result;\r\n              console.log('Saved');\r\n              console.log('Index = '+ this.horizontalStepper.selectedIndex);\r\n              if (almostDone) {\r\n                this.done = true;\r\n              } else {\r\n                this.translate.get(['MESSAGE.DATA_SAVED', 'COMMON.SUCCESS']).subscribe(res => {\r\n                  this.messages = res['MESSAGE.DATA_SAVED'];\r\n                });\r\n              }\r\n            } else {\r\n              this.translate.get(['MESSAGE.DATA_SAVED_FAILED', 'COMMON.ERROR']).subscribe(res => {\r\n                this.error = res['MESSAGE.DATA_SAVED_FAILED'];\r\n              });\r\n            }\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  canEdit(){\r\n    return this.tokenStorage.hasToken() && ( this.project &&       \r\n    (!(this.project.id >0)|| (this.project.id >0 && this.project.status === 0 &&\r\n    Number(this.tokenStorage.getUserId()) === this.project.user.id)));\r\n  }\r\n  isAdmin(){\r\n    return this.tokenStorage.hasToken() && this.project &&\r\n    this.tokenStorage.getRole() !== '30'\r\n  }\r\n\r\n  clear() {\r\n    this.project = new Project();\r\n  }\r\n\r\n  onSelectionChange($event) {\r\n\r\n  }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { AgmCoreModule } from '@agm/core';\r\nimport { InputFileModule } from 'ngx-input-file';\r\nimport { SubmitProjectComponent } from './submit-project.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { QuillModule } from 'ngx-quill';\r\n\r\nexport const routes = [\r\n  { path: '', component: SubmitProjectComponent, pathMatch: 'full'  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [SubmitProjectComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    SharedModule,\r\n    InputFileModule,\r\n    AgmCoreModule,\r\n    FormsModule,\r\n    TranslateModule,\r\n    QuillModule.forRoot({\r\n      theme: 'snow',\r\n      modules: {\r\n        syntax: false,\r\n        toolbar: [\r\n          ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\r\n          ['blockquote', 'code-block'],\r\n          [{ header: 1 }, { header: 2 }],               // custom button values\r\n          [{ list: 'ordered'}, { list: 'bullet' }],\r\n          [{ script: 'sub'}, { script: 'super' }],      // superscript/subscript\r\n          [{ indent: '-1'}, { indent: '+1' }],          // outdent/indent\r\n          [{ direction: 'rtl' }],                       // text direction\r\n          [{ size: ['small', false, 'large', 'huge'] }],  // custom dropdown\r\n          [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n          [{ color: [] }, { background: [] }],          // dropdown with defaults from theme\r\n          [{ font: [] }],\r\n          [{ align: [] }],\r\n          ['clean'],                                         // remove formatting button\r\n          ['link', 'image', 'video']                         // link and image, newsVideo\r\n        ]\r\n      }\r\n    })\r\n  ],\r\n})\r\nexport class SubmitProjectModule { }\r\n"]}