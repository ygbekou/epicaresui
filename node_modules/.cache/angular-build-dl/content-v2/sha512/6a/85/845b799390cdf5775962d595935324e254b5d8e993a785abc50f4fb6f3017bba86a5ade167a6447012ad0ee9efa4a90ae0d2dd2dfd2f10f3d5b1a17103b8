{"version":3,"sources":["./src/app/pages/polls/poll-question-details/poll-question-details.component.html","./src/app/pages/polls/poll-question-details/poll-question-details.component.scss","./src/app/pages/polls/poll-question-details/poll-question-details.component.ts","./src/app/pages/polls/poll-question-details/poll-question-details.module.ts"],"names":[],"mappings":"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","file":"pages-polls-poll-question-details-poll-question-details-module-es2015.js","sourcesContent":["export default \"<app-header-image-small [backgroundImage]=\\\"'assets/images/others/polls.jpg'\\\" [bgImageAnimate]=\\\"false\\\"\\r\\n    [contentOffsetToTop]=\\\"false\\\" desc=\\\"{{ 'COMMON.MAKE_YOUR_CHOICE' | translate }}\\\" [contentMinHeight]=\\\"200\\\">\\r\\n</app-header-image-small>\\r\\n\\r\\n<div class=\\\"px-3\\\">\\r\\n\\r\\n    <div class=\\\"theme-container\\\">\\r\\n        <mat-sidenav-container class=\\\"all-properties mt-3\\\">\\r\\n            <mat-sidenav-content ngClass.gt-sm=\\\"distance\\\">\\r\\n\\r\\n                <div fxLayout=\\\"row wrap\\\">\\r\\n                    <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"50\\\" class=\\\"p-2\\\">\\r\\n                        <mat-chip-list [ngClass]=\\\"(settings.rtl) ? 'ml-2' : 'mr-2'\\\">\\r\\n                            <mat-chip selected disableRipple=\\\"true\\\" color=\\\"warn\\\" class=\\\"uppercase ws-nowrap\\\">\\r\\n                                {{ pagination?.total }} {{'COMMON.CHOICES'|translate}}\\r\\n                            </mat-chip>\\r\\n                        </mat-chip-list>\\r\\n                        <app-blogs-search-results-filters [searchFields]=\\\"searchFields\\\"\\r\\n                            (onRemoveSearchField)=\\\"removeSearchField($event)\\\">\\r\\n                        </app-blogs-search-results-filters>\\r\\n                    </div>\\r\\n\\r\\n                    <div fxFlex=\\\"100\\\" fxFlex.gt-sm=\\\"50\\\" class=\\\"p-2\\\">\\r\\n                        \\r\\n                        <button mat-raised-button color=\\\"primary\\\" (click)=\\\"submitVote()\\\" type=\\\"button\\\"\\r\\n                            *ngIf=\\\"selectedVote?.status < 5 && operation === 'scrutin'\\\" matTooltip=\\\"{{'COMMON.SUBMIT' | translate}}\\\"\\r\\n                            class=\\\"remove\\\">\\r\\n                            <span class=\\\"mx-1 uppercase\\\">{{'COMMON.SUBMIT' | translate}}</span>\\r\\n                            <mat-icon>save</mat-icon>\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div fxLayout=\\\"row wrap\\\" class=\\\"properties-wrapper mt-0\\\">\\r\\n                    <div *ngFor=\\\"let pollChoiceDesc of pollChoiceDescs\\\" [fxFlex]=\\\"(viewType=='grid') ? viewCol : 100\\\"\\r\\n                        class=\\\"item\\\">\\r\\n                        <mat-card class=\\\"property-item p-0\\\" fxLayout=\\\"row wrap\\\" style=\\\"display: block;\\\">\\r\\n\\r\\n                            <div fxFlex=\\\"100\\\" [fxFlex.gt-sm]=\\\"(viewType=='list') ? 60 : 100\\\"\\r\\n                                [fxFlex.sm]=\\\"(viewType=='list') ? 50 : 100\\\" class=\\\"p-3\\\">\\r\\n\\r\\n                                <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start stretch\\\" class=\\\"h-100\\\">\\r\\n                                    <mat-card-content class=\\\"mb-0\\\">\\r\\n                                        <div fxLayout=\\\"row wrap\\\">\\r\\n                                            <div fxFlex.xs=\\\"75\\\" fxFlex.sm=\\\"75\\\" fxFlex.md=\\\"75\\\" fxFlex.lg=\\\"75\\\"\\r\\n                                                fxFlex.xl=\\\"75\\\" class=\\\"p-3\\\">\\r\\n\\r\\n                                                <a color=\\\"accent\\\" style=\\\"width: 100%; text-decoration: none;\\\"\\r\\n                                                    [routerLink]=\\\"['/polls', pollChoiceDesc.pollChoice.id]\\\">\\r\\n                                                    <h4 class=\\\"title\\\">\\r\\n                                                        <span>N<sup>o</sup>:<span\\r\\n                                                                class=\\\"fw-500 mx-2\\\">{{pollChoiceDesc.pollChoice?.rank |number:'3.0'}}</span></span>\\r\\n                                                        : {{pollChoiceDesc.pollChoice?.user.firstName}}\\r\\n                                                        {{pollChoiceDesc.pollChoice?.user.lastName}}</h4>\\r\\n                                                </a>\\r\\n                                            </div>\\r\\n                                            <div fxFlex.xs=\\\"25\\\" fxFlex.sm=\\\"25\\\" fxFlex.md=\\\"25\\\" fxFlex.lg=\\\"25\\\"\\r\\n                                                fxFlex.xl=\\\"25\\\" class=\\\"p-3\\\">\\r\\n                                                <img src=\\\"assets/images/users/{{pollChoiceDesc.pollChoice?.user.id}}/{{pollChoiceDesc.pollChoice?.user.picture}}\\\"\\r\\n                                                    alt=\\\"\\\" width=\\\"50\\\">\\r\\n                                            </div>\\r\\n\\r\\n                                        </div>\\r\\n                                        <hr />\\r\\n                                        <div fxShow=\\\"false\\\" fxShow.gt-sm class=\\\"mt-3\\\">\\r\\n                                            <div [innerHTML]=\\\"pollChoiceDesc.description | safehtml\\\"></div>\\r\\n                                        </div>\\r\\n\\r\\n                                    </mat-card-content>\\r\\n                                    <div class=\\\"sticky-footer-helper\\\" fxFlex=\\\"grow\\\"></div>\\r\\n                                    <mat-card-actions class=\\\"m-0 p-0\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n                                        <p fxLayout=\\\"row\\\" class=\\\"date mb-0\\\">\\r\\n                                            <span class=\\\"mx-2\\\" *ngIf=\\\"operation === 'results'\\\"\\r\\n                                                style=\\\"color:blue;font-size:30px;font-weight: bold;\\\">{{pollChoiceDesc.pollChoice.voteCounts}}\\r\\n                                                {{'COMMON.VOTE' | translate}}s</span>\\r\\n\\r\\n                                        </p>\\r\\n                                        <div>\\r\\n                                            <button mat-icon-button color=\\\"green\\\" type=\\\"button\\\" [disabled]=\\\"true\\\"\\r\\n                                                *ngIf=\\\"pollChoiceDesc.pollChoice.voted\\\"\\r\\n                                                matTooltip=\\\"{{'COMMON.VOTED' | translate}}\\\" class=\\\"remove\\\">\\r\\n                                                <mat-icon color=\\\"green\\\" class=\\\"green-icon mat-icon-xlg\\\">check_box\\r\\n                                                </mat-icon>\\r\\n                                            </button>\\r\\n                                            <button mat-icon-button color=\\\"red\\\" type=\\\"button\\\" [disabled]=\\\"true\\\" *ngIf=\\\"(!pollChoiceDesc.pollChoice.voted && (selectedVote?.status === 5\\r\\n                                                || pollChoiceDesc.pollChoice.pollQuestion.poll.status >= 2))\\\"\\r\\n                                                matTooltip=\\\"{{'COMMON.NOT_VOTED' | translate}}\\\" class=\\\"remove\\\">\\r\\n                                                <mat-icon color=\\\"red\\\" class=\\\"red-icon mat-icon-xlg\\\">cancel\\r\\n                                                </mat-icon>\\r\\n                                            </button>\\r\\n                                        \\r\\n                                            <button mat-icon-button color=\\\"primary\\\" *ngIf=\\\"pollChoiceDesc.pollChoice.pollQuestion.poll.status < 2 && \\r\\n                                            (!pollChoiceDesc.pollChoice.voted && (!selectedVote || (selectedVote && selectedVote?.status < 5)))\\\"\\r\\n                                                (click)=\\\"performVote(pollChoiceDesc.pollChoice.id)\\\" type=\\\"button\\\"\\r\\n                                                matTooltip=\\\"{{'COMMON.VOTE' | translate}}\\\" class=\\\"remove\\\">\\r\\n                                                <mat-icon color=\\\"primary\\\" class=\\\"mat-icon-xlg\\\">thumb_up_alt</mat-icon>\\r\\n                                            </button>\\r\\n                                        </div>\\r\\n                                    </mat-card-actions>\\r\\n                                </div>\\r\\n\\r\\n                            </div>\\r\\n\\r\\n                        </mat-card>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"pollChoiceDescs?.length == 0\\\" fxFlex=\\\"100\\\" fxLayoutAlign=\\\"center center\\\"\\r\\n                        [style.min-height.px]=\\\"200\\\">\\r\\n                        <mat-spinner *ngIf=\\\"!message\\\"></mat-spinner>\\r\\n                        <mat-chip-list *ngIf=\\\"message\\\">\\r\\n                            <mat-chip selected disableRipple=\\\"true\\\" color=\\\"warn\\\" class=\\\"uppercase ws-nowrap\\\">\\r\\n                                {{message}}\\r\\n                            </mat-chip>\\r\\n                        </mat-chip-list>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n            </mat-sidenav-content>\\r\\n        </mat-sidenav-container>\\r\\n    </div>\\r\\n</div>\\r\\n<app-get-in-touch></app-get-in-touch>\";","export default \".green-icon {\\n  color: green;\\n}\\n\\n/* Note: If you're using an SVG icon, you should make the class target the `<svg>` element */\\n\\n.green-icon svg {\\n  fill: green;\\n}\\n\\n.red-icon {\\n  color: red;\\n}\\n\\n/* Note: If you're using an SVG icon, you should make the class target the `<svg>` element */\\n\\n.red-icon svg {\\n  fill: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcG9sbHMvcG9sbC1xdWVzdGlvbi1kZXRhaWxzL0M6XFxEZXZlbG9wbWVudFxcYXJiYW1vL3NyY1xcYXBwXFxwYWdlc1xccG9sbHNcXHBvbGwtcXVlc3Rpb24tZGV0YWlsc1xccG9sbC1xdWVzdGlvbi1kZXRhaWxzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9wYWdlcy9wb2xscy9wb2xsLXF1ZXN0aW9uLWRldGFpbHMvcG9sbC1xdWVzdGlvbi1kZXRhaWxzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQ0NKOztBRENBLDRGQUFBOztBQUNBO0VBQ0ksV0FBQTtBQ0VKOztBRENBO0VBQ0ksVUFBQTtBQ0VKOztBREFBLDRGQUFBOztBQUNBO0VBQ0ksU0FBQTtBQ0dKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcG9sbHMvcG9sbC1xdWVzdGlvbi1kZXRhaWxzL3BvbGwtcXVlc3Rpb24tZGV0YWlscy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ncmVlbi1pY29uIHtcclxuICAgIGNvbG9yOiBncmVlbjtcclxufVxyXG4vKiBOb3RlOiBJZiB5b3UncmUgdXNpbmcgYW4gU1ZHIGljb24sIHlvdSBzaG91bGQgbWFrZSB0aGUgY2xhc3MgdGFyZ2V0IHRoZSBgPHN2Zz5gIGVsZW1lbnQgKi9cclxuLmdyZWVuLWljb24gc3ZnIHtcclxuICAgIGZpbGw6IGdyZWVuO1xyXG59XHJcblxyXG4ucmVkLWljb24ge1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG4vKiBOb3RlOiBJZiB5b3UncmUgdXNpbmcgYW4gU1ZHIGljb24sIHlvdSBzaG91bGQgbWFrZSB0aGUgY2xhc3MgdGFyZ2V0IHRoZSBgPHN2Zz5gIGVsZW1lbnQgKi9cclxuLnJlZC1pY29uIHN2ZyB7XHJcbiAgICBmaWxsOiByZWQ7XHJcbn0iLCIuZ3JlZW4taWNvbiB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLyogTm90ZTogSWYgeW91J3JlIHVzaW5nIGFuIFNWRyBpY29uLCB5b3Ugc2hvdWxkIG1ha2UgdGhlIGNsYXNzIHRhcmdldCB0aGUgYDxzdmc+YCBlbGVtZW50ICovXG4uZ3JlZW4taWNvbiBzdmcge1xuICBmaWxsOiBncmVlbjtcbn1cblxuLnJlZC1pY29uIHtcbiAgY29sb3I6IHJlZDtcbn1cblxuLyogTm90ZTogSWYgeW91J3JlIHVzaW5nIGFuIFNWRyBpY29uLCB5b3Ugc2hvdWxkIG1ha2UgdGhlIGNsYXNzIHRhcmdldCB0aGUgYDxzdmc+YCBlbGVtZW50ICovXG4ucmVkLWljb24gc3ZnIHtcbiAgZmlsbDogcmVkO1xufSJdfQ== */\";","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MediaChange, MediaObserver } from '@angular/flex-layout';\r\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\r\nimport { Subscription } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { PollQuestionDesc, Pagination, PollChoiceDesc, Vote, PollChoice, User } from 'src/app/app.models';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Settings, AppSettings } from 'src/app/app.settings';\r\nimport { AppService } from 'src/app/app.service';\r\nimport { TokenStorage } from 'src/app/token.storage';\r\n\r\n@Component({\r\n  selector: 'app-poll-question-details',\r\n  templateUrl: './poll-question-details.component.html',\r\n  styleUrls: ['./poll-question-details.component.scss']\r\n})\r\nexport class PollQuestionDetailsComponent implements OnInit, OnDestroy {\r\n  @ViewChild('sidenav') sidenav: any;\r\n  public sidenavOpen = true;\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  public psConfig: PerfectScrollbarConfigInterface = {\r\n    wheelPropagation: true\r\n  };\r\n  pollQuestionDesc: PollQuestionDesc;\r\n  pollChoiceDescs: PollChoiceDesc[];\r\n  myVotes: Vote[];\r\n  pollQuestionId: number;\r\n  operation = 'scrutin';\r\n  selectedVote: Vote;\r\n\r\n  public viewType = 'grid';\r\n  public viewCol = 33.3;\r\n  public count = 12;\r\n  public sort: string;\r\n  public searchFields: any;\r\n  public removedSearchField: string;\r\n  public pagination: any;\r\n  public message: string;\r\n  public watcher: Subscription;\r\n  lang = 'fr';\r\n\r\n  public settings: Settings\r\n\r\n  constructor(public appSettings: AppSettings,\r\n    public appService: AppService,\r\n    protected translate: TranslateService,\r\n    public mediaObserver: MediaObserver,\r\n    private activatedRoute: ActivatedRoute,\r\n    protected tokenStorage: TokenStorage) {\r\n\r\n    this.pagination = new Pagination(1, this.count, null, 2, 0, 0);\r\n    this.settings = appService.appSettings.settings;\r\n    this.watcher = mediaObserver.media$.subscribe((change: MediaChange) => {\r\n      if (change.mqAlias === 'xs') {\r\n        this.sidenavOpen = false;\r\n        this.viewCol = 100;\r\n      }\r\n      else if (change.mqAlias === 'sm') {\r\n        this.sidenavOpen = false;\r\n        this.viewCol = 50;\r\n      }\r\n      else if (change.mqAlias === 'md') {\r\n        this.viewCol = 50;\r\n        this.sidenavOpen = true;\r\n      }\r\n      else {\r\n        this.viewCol = 33.3;\r\n        this.sidenavOpen = true;\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      if (params.operation) {\r\n        this.operation = params.operation;\r\n      }\r\n\r\n      if (Number(params.id) > 0) {\r\n        this.pollQuestionId = params.id;\r\n        this.getPollChoiceDescs(params.id);\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.watcher.unsubscribe();\r\n  }\r\n\r\n  getPollChoiceDescs(pollQuestionId: number) {\r\n    const parameters: string[] = [];\r\n    parameters.push('e.language = |language|' + this.lang + '|String');\r\n    //parameters.push('e.pollQuestion.status = |stb|1|Integer');\r\n    parameters.push('e.pollChoice.pollQuestion.id = |pollQuestionId|' + pollQuestionId + '|Long');\r\n    this.appService.getAllByCriteriaWithFiles('com.wack.poll.PollChoiceDesc', parameters,\r\n      this.operation === 'scrutin' ? ' order by e.pollChoice.pollQuestion.rank asc'\r\n      : ' order by e.pollChoice.voteCounts desc')\r\n      .subscribe((data: PollChoiceDesc[]) => {\r\n        this.pollChoiceDescs = data;\r\n        console.log(this.pollChoiceDescs);\r\n        this.count = this.pollChoiceDescs.length;\r\n        this.pagination = new Pagination(1, this.count, null, 2, this.count, 0);\r\n        this.message = null;\r\n\r\n        if (this.operation === 'scrutin') {\r\n          this.getVotes(pollQuestionId);\r\n        } else if (this.operation === 'results' && this.pollChoiceDescs.length > 0) {\r\n          this.pollChoiceDescs[0].pollChoice.voted = true;\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  public resetPagination() {\r\n    if (this.paginator) {\r\n      this.paginator.pageIndex = 0;\r\n    }\r\n    this.pagination = new Pagination(1, this.count, null, null, this.pagination.total, this.pagination.totalPages);\r\n  }\r\n\r\n  public filterData(data) {\r\n    console.log(data);\r\n    return this.appService.filterData(data, this.searchFields, this.sort, this.pagination.page, this.pagination.perPage);\r\n  }\r\n\r\n\r\n\r\n  public removeSearchField(field) {\r\n    this.message = null;\r\n    this.removedSearchField = field;\r\n  }\r\n\r\n  public changeCount(count) {\r\n    this.count = count;\r\n    this.pollChoiceDescs.length = 0;\r\n    this.resetPagination();\r\n  }\r\n  public changeSorting(sort) {\r\n    this.sort = sort;\r\n  }\r\n  public changeViewType(obj) {\r\n    this.viewType = obj.viewType;\r\n    this.viewCol = obj.viewCol;\r\n  }\r\n\r\n  public onPageChange(e) {\r\n    this.pagination.page = e.pageIndex + 1;\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  performVote(pollChoiceId: number) {\r\n    const vote = new Vote();\r\n    vote.pollChoice = new PollChoice();\r\n    vote.pollChoice.id = pollChoiceId;\r\n    vote.user = new User();\r\n    vote.user.id = +this.tokenStorage.getUserId();\r\n\r\n    this.appService.saveWithUrl('/service/poll/vote/', vote)\r\n      .subscribe(() => {\r\n\r\n        this.getPollChoiceDescs(this.pollQuestionId);\r\n\r\n      }, (error) => console.log(error),\r\n        () => console.log('Perform vote complete'));\r\n  }\r\n\r\n  submitVote() {\r\n    this.selectedVote.status = 5;\r\n\r\n    this.appService.save(this.selectedVote, 'Vote')\r\n      .subscribe(result => {\r\n        this.getPollChoiceDescs(this.pollQuestionId);\r\n      });\r\n  }\r\n\r\n  getVotes(pollQuestionId: number) {\r\n\r\n    const parameters: string[] = [];\r\n    parameters.push('e.pollChoice.pollQuestion.id = |pollQuestionId|' + pollQuestionId + '|Long');\r\n    parameters.push('e.user.id = |userId|' + this.tokenStorage.getUserId() + '|Long');\r\n\r\n    this.appService.getAllByCriteria('com.wack.poll.Vote', parameters,\r\n      ' ').subscribe((data: Vote[]) => {\r\n        this.myVotes = data;\r\n\r\n        for (const pc of this.pollChoiceDescs) {\r\n          for (const v of this.myVotes) {\r\n            if (pc.pollChoice.id === v.pollChoice.id) {\r\n              pc.pollChoice.voted = true;\r\n              this.selectedVote = v;\r\n            }\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AgmCoreModule } from '@agm/core';\r\nimport { MatVideoModule } from 'mat-video';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { PollQuestionDetailsComponent } from './poll-question-details.component';\r\n\r\nexport const routes = [\r\n  { path: '', component: PollQuestionDetailsComponent, pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PollQuestionDetailsComponent\r\n  ],\r\n  exports: [\r\n    PollQuestionDetailsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes),\r\n    AgmCoreModule,\r\n    MatVideoModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class PollQuestionDetailsModule { }\r\n"],"sourceRoot":"webpack:///"}