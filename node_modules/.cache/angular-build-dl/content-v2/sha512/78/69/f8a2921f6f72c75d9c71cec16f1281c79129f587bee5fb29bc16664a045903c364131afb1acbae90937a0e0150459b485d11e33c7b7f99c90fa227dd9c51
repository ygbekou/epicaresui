{"version":3,"sources":["./src/app/pages/section/section.component.html","./src/app/pages/section/section.component.scss","./src/app/pages/section/section.component.ts","./src/app/pages/section/section.module.ts"],"names":[],"mappings":"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","file":"pages-section-section-module-es2015.js","sourcesContent":["export default \"<app-header-image-small [backgroundImage]=\\\"'assets/images/others/about.jpg'\\\" [bgImageAnimate]=\\\"false\\\"\\r\\n    [contentOffsetToTop]=\\\"true\\\"\\r\\n    title=\\\"{{section.title}}\\\" [desc]=\\\"''\\\">\\r\\n</app-header-image-small>\\r\\n<div class=\\\"theme-container\\\">\\r\\n    <mat-card class=\\\"main-content-header\\\">\\r\\n        <div class=\\\"section pt-2\\\">\\r\\n            <div class=\\\"px-3\\\">\\r\\n                <div class=\\\"theme-container\\\">\\r\\n                    <mat-card class=\\\"p-0\\\" fxLayout=\\\"row wrap\\\">\\r\\n                        <div fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"60\\\" class=\\\"p-3\\\">\\r\\n                           <div [innerHTML]=\\\"section.description | safehtml\\\"></div> \\r\\n                        </div>\\r\\n                        <div fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"40\\\" fxShow=\\\"false\\\" fxShow.gt-md>\\r\\n                            <img style=\\\"width: 100%;\\\" [src]=\\\"'assets/images/sections/'+section.id+'/'+section.picture\\\" alt=\\\"{{section.name}}\\\"\\r\\n                                class=\\\"mw-100 d-block\\\">\\r\\n                        </div>\\r\\n                    </mat-card>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </mat-card>\\r\\n</div>\\r\\n<div class=\\\"section mt-3\\\">\\r\\n    <div class=\\\"px-3\\\">\\r\\n        <div class=\\\"theme-container\\\">\\r\\n            <div fxLayout=\\\"row wrap\\\" class=\\\"services-wrapper\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"33.33\\\" fxFlex.gt-sm=\\\"50\\\" class=\\\"p-2\\\" *ngFor=\\\"let item of sectionItems\\\">\\r\\n                    <a [routerLink]=\\\"['/section', item.name]\\\" style=\\\"text-decoration: none;\\\">\\r\\n                        <mat-card fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start center\\\" class=\\\"h-100 w-100 text-center\\\">\\r\\n                            <mat-icon class=\\\"mat-icon-xlg\\\" color=\\\"primary\\\">{{item.picture}}</mat-icon>\\r\\n                            <h2 class=\\\"capitalize fw-600 my-3\\\">{{item.title}}</h2>\\r\\n                            <!--<div [innerHTML]=\\\"item.summary\\\"></div> -->\\r\\n                        </mat-card>\\r\\n                    </a>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<app-get-in-touch></app-get-in-touch>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NlY3Rpb24vc2VjdGlvbi5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Section, SectionItem } from 'src/app/app.models';\r\nimport { AppService } from 'src/app/app.service';\r\nimport { Cookie } from 'ng2-cookies/ng2-cookies';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-sction',\r\n  templateUrl: './section.component.html',\r\n  styleUrls: ['./section.component.scss']\r\n})\r\nexport class SectionComponent implements OnInit {\r\n  section: Section = new Section();\r\n  sectionItems: SectionItem[] = [];\r\n  constructor(private route: ActivatedRoute,\r\n    private translate: TranslateService,\r\n    public appService: AppService) { }\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe(params => {\r\n      console.log(params);\r\n      this.getSection(params.get('name'));\r\n    })\r\n  }\r\n\r\n  getSection(name: string) {\r\n    const parameters: string[] = [];\r\n    parameters.push('e.name = |name|' + name + '|String');\r\n    parameters.push('e.language = |language|' + this.getLang() + '|String');\r\n    parameters.push('e.status = |status|1|Integer');\r\n    this.appService.getAllByCriteria('com.wack.model.website.Section', parameters,' order by e.rank ')\r\n      .subscribe((data: Section[]) => {\r\n        console.log(data);\r\n        if (data.length > 0) {\r\n          this.section = data[0];\r\n          const params: string[] = [];\r\n          params.push('e.section.id = |sectionId|' + this.section.id + '|Long');\r\n          params.push('e.status = |status|1|Integer');\r\n          this.appService.getAllByCriteria('com.wack.model.website.SectionItem', params)\r\n            .subscribe((data2: SectionItem[]) => {\r\n              console.log(data2);\r\n              this.sectionItems = data2;\r\n            }, error => console.log(error),\r\n              () => console.log('Get Section Items complete'));\r\n\r\n        }\r\n      }, error => console.log(error),\r\n        () => console.log('Get Section complete'));\r\n  }\r\n\r\n  getLang(): string {\r\n    let lang = navigator.language;\r\n    if (lang) {\r\n      lang = lang.substring(0, 2);\r\n    }\r\n    if (Cookie.get('lang')) {\r\n      lang = Cookie.get('lang');\r\n      console.log('Using cookie lang=' + Cookie.get('lang'));\r\n    } else if (lang) {\r\n      console.log('Using browser lang=' + lang);\r\n      // this.translate.use(lang);\r\n    } else {\r\n      lang = 'fr';\r\n      console.log('Using default lang=fr');\r\n    }\r\n    return lang;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { SectionComponent } from './section.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nexport const routes = [\r\n  { path: '', component: SectionComponent, pathMatch: 'full'  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [SectionComponent],\r\n  imports: [\r\n    CommonModule,TranslateModule,\r\n    RouterModule.forChild(routes),\r\n    SharedModule\r\n  ]\r\n})\r\nexport class SectionModule { }\r\n"],"sourceRoot":"webpack:///"}