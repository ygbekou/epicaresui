{"version":3,"sources":["./src/app/pages/polls/poll-details/poll-details.component.html","./src/app/pages/polls/poll-details/poll-details.component.scss","./src/app/pages/polls/poll-details/poll-details.component.ts","./src/app/pages/polls/poll-details/poll-details.module.ts"],"names":[],"mappings":"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","file":"pages-polls-poll-details-poll-details-module-es2015.js","sourcesContent":["export default \"<app-header-image-small [backgroundImage]=\\\"'assets/images/others/polls.jpg'\\\" [bgImageAnimate]=\\\"false\\\"\\r\\n    [contentOffsetToTop]=\\\"false\\\" desc=\\\"{{ 'COMMON.POLL_AND_ELECTION' | translate }}\\\"\\r\\n    [contentMinHeight]=\\\"200\\\">\\r\\n</app-header-image-small>\\r\\n\\r\\n<div class=\\\"px-3\\\">\\r\\n\\r\\n    <div class=\\\"theme-container\\\">\\r\\n        <mat-sidenav-container class=\\\"all-properties mt-3\\\">\\r\\n            <mat-sidenav-content ngClass.gt-sm=\\\"distance\\\">\\r\\n\\r\\n                <div fxLayout=\\\"row wrap\\\" class=\\\"properties-wrapper mt-0\\\">\\r\\n\\r\\n                    <div fxFlex=\\\"100\\\" fxLayoutAlign=\\\"start start\\\" class=\\\"p-2\\\">\\r\\n                        <mat-chip-list [ngClass]=\\\"(settings.rtl) ? 'ml-2' : 'mr-2'\\\">\\r\\n                            <mat-chip selected disableRipple=\\\"true\\\" color=\\\"warn\\\" class=\\\"uppercase ws-nowrap\\\">\\r\\n                                {{ pagination?.total }} {{'COMMON.QUESTIONS'|translate}}s\\r\\n                            </mat-chip>\\r\\n                        </mat-chip-list>\\r\\n                        <app-blogs-search-results-filters [searchFields]=\\\"searchFields\\\"\\r\\n                            (onRemoveSearchField)=\\\"removeSearchField($event)\\\">\\r\\n                        </app-blogs-search-results-filters>\\r\\n                    </div>\\r\\n\\r\\n                    <div *ngFor=\\\"let pollQuestionDesc of pollQuestionDescs\\\"\\r\\n                        [fxFlex]=\\\"(viewType=='grid') ? viewCol : 100\\\" class=\\\"item\\\">\\r\\n                        <mat-card class=\\\"property-item p-0\\\" fxLayout=\\\"row wrap\\\" style=\\\"display: block;\\\">\\r\\n\\r\\n                            <div fxFlex=\\\"100\\\" [fxFlex.gt-sm]=\\\"(viewType=='list') ? 60 : 100\\\"\\r\\n                                [fxFlex.sm]=\\\"(viewType=='list') ? 50 : 100\\\" class=\\\"p-3\\\">\\r\\n\\r\\n                                <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start stretch\\\" class=\\\"h-100\\\">\\r\\n                                    <mat-card-content class=\\\"mb-0\\\">\\r\\n                                        <a color=\\\"accent\\\" style=\\\"width: 100%; text-decoration: none;\\\"\\r\\n                                            [routerLink]=\\\"['/poll-question-details/scrutin', pollQuestionDesc.pollQuestion.id]\\\">\\r\\n                                            <h4 class=\\\"title\\\">\\r\\n                                                <span>N<sup>o</sup>:<span\\r\\n                                                        class=\\\"fw-500 mx-2\\\">{{pollQuestionDesc.pollQuestion?.id |number:'3.0'}}</span></span>\\r\\n                                                </h4>\\r\\n                                        </a>\\r\\n                                        <hr />\\r\\n\\r\\n                                        <div fxShow=\\\"false\\\" fxShow.gt-sm class=\\\"mt-3\\\">\\r\\n                                            <div [innerHTML]=\\\"pollQuestionDesc.description | safehtml\\\"></div>\\r\\n                                        </div>\\r\\n\\r\\n                                    </mat-card-content>\\r\\n                                    <div class=\\\"sticky-footer-helper\\\" fxFlex=\\\"grow\\\"></div>\\r\\n                                    <mat-card-actions class=\\\"m-0 p-0\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n                                        <p fxLayout=\\\"row\\\" class=\\\"date mb-0\\\">\\r\\n                                            <mat-icon class=\\\"text-muted\\\">date_range</mat-icon>\\r\\n                                            <span\\r\\n                                                class=\\\"mx-2\\\">{{pollQuestionDesc.createDate | date:\\\"dd MMMM, yyyy\\\" }}</span>\\r\\n                                        </p>\\r\\n                                        <div>\\r\\n                                            <a [routerLink]=\\\"['/poll-question-details/scrutin', pollQuestionDesc?.pollQuestion?.id]\\\"\\r\\n                                                mat-stroked-button color=\\\"primary\\\" class=\\\"uppercase\\\" *ngIf=\\\"pollQuestionDesc.pollQuestion.poll.status ===  1\\\">\\r\\n                                                {{'COMMON.READ_MORE'|translate }}</a>\\r\\n                                            <a [routerLink]=\\\"['/poll-question-details/results', pollQuestionDesc?.pollQuestion?.id]\\\" mat-stroked-button\\r\\n                                                color=\\\"primary\\\" class=\\\"uppercase\\\" *ngIf=\\\"pollQuestionDesc.pollQuestion.poll.status >  1\\\">\\r\\n                                                {{'COMMON.RESULTS'|translate }}</a>\\r\\n                                        </div>\\r\\n                                    </mat-card-actions>\\r\\n                                </div>\\r\\n\\r\\n                            </div>\\r\\n\\r\\n                        </mat-card>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"pollQuestionDescs?.length == 0\\\" fxFlex=\\\"100\\\" fxLayoutAlign=\\\"center center\\\"\\r\\n                        [style.min-height.px]=\\\"200\\\">\\r\\n                        <mat-spinner *ngIf=\\\"!message\\\"></mat-spinner>\\r\\n                        <mat-chip-list *ngIf=\\\"message\\\">\\r\\n                            <mat-chip selected disableRipple=\\\"true\\\" color=\\\"warn\\\" class=\\\"uppercase ws-nowrap\\\">\\r\\n                                {{message}}\\r\\n                            </mat-chip>\\r\\n                        </mat-chip-list>\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n            </mat-sidenav-content>\\r\\n        </mat-sidenav-container>\\r\\n    </div>\\r\\n</div>\\r\\n<app-get-in-touch></app-get-in-touch>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BvbGxzL3BvbGwtZGV0YWlscy9wb2xsLWRldGFpbHMuY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MediaChange, MediaObserver } from '@angular/flex-layout';\r\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\r\nimport { Subscription } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { PollQuestionDesc, PollDesc, Pagination } from 'src/app/app.models';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Settings, AppSettings } from 'src/app/app.settings';\r\nimport { AppService } from 'src/app/app.service';\r\n\r\n@Component({\r\n  selector: 'app-poll-details',\r\n  templateUrl: './poll-details.component.html',\r\n  styleUrls: ['./poll-details.component.scss']\r\n})\r\nexport class PollDetailsComponent implements OnInit, OnDestroy {\r\n  @ViewChild('sidenav') sidenav: any;\r\n  public sidenavOpen = true;\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  public psConfig: PerfectScrollbarConfigInterface = {\r\n    wheelPropagation: true\r\n  };\r\n  public pollDesc: PollDesc;\r\n  public pollQuestionDescs: PollQuestionDesc[];\r\n  public viewType = 'grid';\r\n  public viewCol = 33.3;\r\n  public count = 12;\r\n  public sort: string;\r\n  public searchFields: any;\r\n  public removedSearchField: string;\r\n  public pagination: any;\r\n  public message: string;\r\n  public watcher: Subscription;\r\n  lang = 'fr';\r\n\r\n  public settings: Settings\r\n\r\n  constructor(public appSettings: AppSettings,\r\n    public appService: AppService,\r\n    protected translate: TranslateService,\r\n    public mediaObserver: MediaObserver,\r\n    private activatedRoute: ActivatedRoute) {\r\n\r\n    this.pagination = new Pagination(1, this.count, null, 2, 0, 0);\r\n    this.settings = appService.appSettings.settings;\r\n    this.watcher = mediaObserver.media$.subscribe((change: MediaChange) => {\r\n      if (change.mqAlias === 'xs') {\r\n        this.sidenavOpen = false;\r\n        this.viewCol = 100;\r\n      }\r\n      else if (change.mqAlias === 'sm') {\r\n        this.sidenavOpen = false;\r\n        this.viewCol = 50;\r\n      }\r\n      else if (change.mqAlias === 'md') {\r\n        this.viewCol = 50;\r\n        this.sidenavOpen = true;\r\n      }\r\n      else {\r\n        this.viewCol = 33.3;\r\n        this.sidenavOpen = true;\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      if (Number(params.id) > 0) {\r\n        this.getPollQuestionDescs(params.id);\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.watcher.unsubscribe();\r\n  }\r\n\r\n  getPollQuestionDescs(pollId: number) {\r\n    console.log('Getting Poll Poll Questions ...')\r\n    const parameters: string[] = [];\r\n    parameters.push('e.language = |language|' + this.lang + '|String');\r\n    //parameters.push('e.pollQuestion.status = |stb|1|Integer');\r\n    parameters.push('e.pollQuestion.poll.id = |pollId|' + pollId + '|Long');\r\n    this.appService.getAllByCriteriaWithFiles('com.wack.poll.PollQuestionDesc', parameters,\r\n      ' order by e.pollQuestion.rank asc').subscribe((data: PollQuestionDesc[]) => {\r\n        this.pollQuestionDescs = data;\r\n        console.log(this.pollQuestionDescs);\r\n        this.count = this.pollQuestionDescs.length;\r\n        this.pagination = new Pagination(1, this.count, null, 2, this.count, 0);\r\n        this.message = null;\r\n      });\r\n  }\r\n\r\n\r\n  public resetPagination() {\r\n    if (this.paginator) {\r\n      this.paginator.pageIndex = 0;\r\n    }\r\n    this.pagination = new Pagination(1, this.count, null, null, this.pagination.total, this.pagination.totalPages);\r\n  }\r\n\r\n  public filterData(data) {\r\n    console.log(data);\r\n    return this.appService.filterData(data, this.searchFields, this.sort, this.pagination.page, this.pagination.perPage);\r\n  }\r\n\r\n\r\n\r\n  public removeSearchField(field) {\r\n    this.message = null;\r\n    this.removedSearchField = field;\r\n  }\r\n\r\n  public changeCount(count) {\r\n    this.count = count;\r\n    this.pollQuestionDescs.length = 0;\r\n    this.resetPagination();\r\n  }\r\n  public changeSorting(sort) {\r\n    this.sort = sort;\r\n  }\r\n  public changeViewType(obj) {\r\n    this.viewType = obj.viewType;\r\n    this.viewCol = obj.viewCol;\r\n  }\r\n\r\n  public onPageChange(e) {\r\n    this.pagination.page = e.pageIndex + 1;\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AgmCoreModule } from '@agm/core';\r\nimport { MatVideoModule } from 'mat-video';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { PollDetailsComponent } from './poll-details.component';\r\n\r\nexport const routes = [\r\n  { path: '', component: PollDetailsComponent, pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PollDetailsComponent\r\n  ],\r\n  exports: [\r\n    PollDetailsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes),\r\n    AgmCoreModule,\r\n    MatVideoModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class PollDetailsModule { }\r\n"],"sourceRoot":"webpack:///"}