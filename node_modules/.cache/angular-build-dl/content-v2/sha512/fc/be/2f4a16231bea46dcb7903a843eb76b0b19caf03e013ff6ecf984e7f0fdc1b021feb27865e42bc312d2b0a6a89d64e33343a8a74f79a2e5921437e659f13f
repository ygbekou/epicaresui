{"version":3,"sources":["webpack:///src/app/pages/section/section.component.html","webpack:///src/app/pages/section/section.component.scss","webpack:///src/app/pages/section/section.component.ts","webpack:///src/app/pages/section/section.module.ts"],"names":["SectionComponent","route","translate","appService","section","sectionItems","paramMap","subscribe","params","console","log","getSection","get","name","parameters","push","getLang","getAllByCriteria","data","length","id","data2","error","lang","navigator","language","substring","selector","template","routes","path","component","pathMatch","SectionModule","declarations","imports","forChild"],"mappings":"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","file":"pages-section-section-module-es5.js","sourcesContent":["export default \"<app-header-image-small [backgroundImage]=\\\"'assets/images/others/about.jpg'\\\" [bgImageAnimate]=\\\"false\\\"\\r\\n    [contentOffsetToTop]=\\\"true\\\"\\r\\n    title=\\\"{{section.title}}\\\" [desc]=\\\"''\\\">\\r\\n</app-header-image-small>\\r\\n<div class=\\\"theme-container\\\">\\r\\n    <mat-card class=\\\"main-content-header\\\">\\r\\n        <div class=\\\"section pt-2\\\">\\r\\n            <div class=\\\"px-3\\\">\\r\\n                <div class=\\\"theme-container\\\">\\r\\n                    <mat-card class=\\\"p-0\\\" fxLayout=\\\"row wrap\\\">\\r\\n                        <div fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"60\\\" class=\\\"p-3\\\">\\r\\n                           <div [innerHTML]=\\\"section.description | safehtml\\\"></div> \\r\\n                        </div>\\r\\n                        <div fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"40\\\" fxShow=\\\"false\\\" fxShow.gt-md>\\r\\n                            <img style=\\\"width: 100%;\\\" [src]=\\\"'assets/images/sections/'+section.id+'/'+section.picture\\\" alt=\\\"{{section.name}}\\\"\\r\\n                                class=\\\"mw-100 d-block\\\">\\r\\n                        </div>\\r\\n                    </mat-card>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </mat-card>\\r\\n</div>\\r\\n<div class=\\\"section mt-3\\\">\\r\\n    <div class=\\\"px-3\\\">\\r\\n        <div class=\\\"theme-container\\\">\\r\\n            <div fxLayout=\\\"row wrap\\\" class=\\\"services-wrapper\\\">\\r\\n                <div fxFlex=\\\"100\\\" fxFlex.gt-md=\\\"33.33\\\" fxFlex.gt-sm=\\\"50\\\" class=\\\"p-2\\\" *ngFor=\\\"let item of sectionItems\\\">\\r\\n                    <a [routerLink]=\\\"['/section', item.name]\\\" style=\\\"text-decoration: none;\\\">\\r\\n                        <mat-card fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start center\\\" class=\\\"h-100 w-100 text-center\\\">\\r\\n                            <mat-icon class=\\\"mat-icon-xlg\\\" color=\\\"primary\\\">{{item.picture}}</mat-icon>\\r\\n                            <h2 class=\\\"capitalize fw-600 my-3\\\">{{item.title}}</h2>\\r\\n                            <!--<div [innerHTML]=\\\"item.summary\\\"></div> -->\\r\\n                        </mat-card>\\r\\n                    </a>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<app-get-in-touch></app-get-in-touch>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NlY3Rpb24vc2VjdGlvbi5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Section, SectionItem } from 'src/app/app.models';\r\nimport { AppService } from 'src/app/app.service';\r\nimport { Cookie } from 'ng2-cookies/ng2-cookies';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-sction',\r\n  templateUrl: './section.component.html',\r\n  styleUrls: ['./section.component.scss']\r\n})\r\nexport class SectionComponent implements OnInit {\r\n  section: Section = new Section();\r\n  sectionItems: SectionItem[] = [];\r\n  constructor(private route: ActivatedRoute,\r\n    private translate: TranslateService,\r\n    public appService: AppService) { }\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe(params => {\r\n      console.log(params);\r\n      this.getSection(params.get('name'));\r\n    })\r\n  }\r\n\r\n  getSection(name: string) {\r\n    const parameters: string[] = [];\r\n    parameters.push('e.name = |name|' + name + '|String');\r\n    parameters.push('e.language = |language|' + this.getLang() + '|String');\r\n    parameters.push('e.status = |status|1|Integer');\r\n    this.appService.getAllByCriteria('com.wack.model.website.Section', parameters,' order by e.rank ')\r\n      .subscribe((data: Section[]) => {\r\n        console.log(data);\r\n        if (data.length > 0) {\r\n          this.section = data[0];\r\n          const params: string[] = [];\r\n          params.push('e.section.id = |sectionId|' + this.section.id + '|Long');\r\n          params.push('e.status = |status|1|Integer');\r\n          this.appService.getAllByCriteria('com.wack.model.website.SectionItem', params)\r\n            .subscribe((data2: SectionItem[]) => {\r\n              console.log(data2);\r\n              this.sectionItems = data2;\r\n            }, error => console.log(error),\r\n              () => console.log('Get Section Items complete'));\r\n\r\n        }\r\n      }, error => console.log(error),\r\n        () => console.log('Get Section complete'));\r\n  }\r\n\r\n  getLang(): string {\r\n    let lang = navigator.language;\r\n    if (lang) {\r\n      lang = lang.substring(0, 2);\r\n    }\r\n    if (Cookie.get('lang')) {\r\n      lang = Cookie.get('lang');\r\n      console.log('Using cookie lang=' + Cookie.get('lang'));\r\n    } else if (lang) {\r\n      console.log('Using browser lang=' + lang);\r\n      // this.translate.use(lang);\r\n    } else {\r\n      lang = 'fr';\r\n      console.log('Using default lang=fr');\r\n    }\r\n    return lang;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { SectionComponent } from './section.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nexport const routes = [\r\n  { path: '', component: SectionComponent, pathMatch: 'full'  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [SectionComponent],\r\n  imports: [\r\n    CommonModule,TranslateModule,\r\n    RouterModule.forChild(routes),\r\n    SharedModule\r\n  ]\r\n})\r\nexport class SectionModule { }\r\n"]}