{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{CzEO:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return QuillEditorComponent})),__webpack_require__.d(__webpack_exports__,\"b\",(function(){return QuillModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"ofXK\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"fXoL\"),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"jhN1\"),_angular_forms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"3Pt+\");const _c0=[[[\"\",\"quill-editor-toolbar\",\"\"]]],_c1=[\"[quill-editor-toolbar]\"],defaultModules={toolbar:[[\"bold\",\"italic\",\"underline\",\"strike\"],[\"blockquote\",\"code-block\"],[{header:1},{header:2}],[{list:\"ordered\"},{list:\"bullet\"}],[{script:\"sub\"},{script:\"super\"}],[{indent:\"-1\"},{indent:\"+1\"}],[{direction:\"rtl\"}],[{size:[\"small\",!1,\"large\",\"huge\"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],[\"clean\"],[\"link\",\"image\",\"video\"]]},getFormat=(format,configFormat)=>format||configFormat||\"html\",QUILL_CONFIG_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.InjectionToken(\"config\");let QuillService=(()=>{let QuillService=class{constructor(config){this.config=config,this.count=0,this.config||(this.config={modules:defaultModules})}getQuill(){return this.count++,this.Quill||1!==this.count||(this.$importPromise=new Promise(resolve=>Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){var _a,_b;const quillImport=yield __webpack_require__.e(39).then(__webpack_require__.t.bind(null,\"kzlf\",7));this.Quill=quillImport.default?quillImport.default:quillImport,null===(_a=this.config.customOptions)||void 0===_a||_a.forEach(customOption=>{const newCustomOption=this.Quill.import(customOption.import);newCustomOption.whitelist=customOption.whitelist,this.Quill.register(newCustomOption,!0,this.config.suppressGlobalRegisterWarning)}),null===(_b=this.config.customModules)||void 0===_b||_b.forEach(({implementation:implementation,path:path})=>{this.Quill.register(path,implementation,this.config.suppressGlobalRegisterWarning)}),resolve(this.Quill)})))),this.$importPromise}};return QuillService.ɵfac=function(t){return new(t||QuillService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵinject\"](QUILL_CONFIG_TOKEN))},QuillService.ɵprov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdefineInjectable\"])({factory:function(){return new QuillService(Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵinject\"])(QUILL_CONFIG_TOKEN))},token:QuillService,providedIn:\"root\"}),QuillService})();var QuillEditorBase_1,QuillEditorComponent_1;let QuillEditorBase=(()=>{let QuillEditorBase=QuillEditorBase_1=class{constructor(elementRef,domSanitizer,doc,platformId,renderer,zone,service){this.elementRef=elementRef,this.domSanitizer=domSanitizer,this.doc=doc,this.platformId=platformId,this.renderer=renderer,this.zone=zone,this.service=service,this.required=!1,this.customToolbarPosition=\"top\",this.sanitize=!1,this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.onEditorCreated=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter,this.onEditorChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter,this.onContentChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter,this.onSelectionChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter,this.onFocus=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter,this.onBlur=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter,this.disabled=!1,this.valueGetter=(quillEditor,editorElement)=>{let html=editorElement.querySelector(\".ql-editor\").innerHTML;\"<p><br></p>\"!==html&&\"<div><br></div>\"!==html||(html=null);let modelValue=html;const format=getFormat(this.format,this.service.config.format);if(\"text\"===format)modelValue=quillEditor.getText();else if(\"object\"===format)modelValue=quillEditor.getContents();else if(\"json\"===format)try{modelValue=JSON.stringify(quillEditor.getContents())}catch(e){modelValue=quillEditor.getText()}return modelValue},this.valueSetter=(quillEditor,value)=>{const format=getFormat(this.format,this.service.config.format);if(\"html\"===format)return this.sanitize&&(value=this.domSanitizer.sanitize(_angular_core__WEBPACK_IMPORTED_MODULE_2__.SecurityContext.HTML,value)),quillEditor.clipboard.convert(value);if(\"json\"===format)try{return JSON.parse(value)}catch(e){return[{insert:value}]}return value},this.selectionChangeHandler=(range,oldRange,source)=>{const shouldTriggerOnModelTouched=!range&&!!this.onModelTouched;(this.onBlur.observers.length||this.onFocus.observers.length||this.onSelectionChanged.observers.length||shouldTriggerOnModelTouched)&&this.zone.run(()=>{null===range?this.onBlur.emit({editor:this.quillEditor,source:source}):null===oldRange&&this.onFocus.emit({editor:this.quillEditor,source:source}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:oldRange,range:range,source:source}),shouldTriggerOnModelTouched&&this.onModelTouched()})},this.textChangeHandler=(delta,oldDelta,source)=>{const text=this.quillEditor.getText(),content=this.quillEditor.getContents();let html=this.editorElem.querySelector(\".ql-editor\").innerHTML;\"<p><br></p>\"!==html&&\"<div><br></div>\"!==html||(html=null);const trackChanges=this.trackChanges||this.service.config.trackChanges,shouldTriggerOnModelChange=(\"user\"===source||trackChanges&&\"all\"===trackChanges)&&!!this.onModelChange;(this.onContentChanged.observers.length||shouldTriggerOnModelChange)&&this.zone.run(()=>{shouldTriggerOnModelChange&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:content,delta:delta,editor:this.quillEditor,html:html,oldDelta:oldDelta,source:source,text:text})})},this.editorChangeHandler=(event,current,old,source)=>{if(this.onEditorChanged.observers.length)if(\"text-change\"===event){const text=this.quillEditor.getText(),content=this.quillEditor.getContents();let html=this.editorElem.querySelector(\".ql-editor\").innerHTML;\"<p><br></p>\"!==html&&\"<div><br></div>\"!==html||(html=null),this.zone.run(()=>{this.onEditorChanged.emit({content:content,delta:current,editor:this.quillEditor,event:event,html:html,oldDelta:old,source:source,text:text})})}else this.onEditorChanged.emit({editor:this.quillEditor,event:event,oldRange:old,range:current,source:source})}}static normalizeClassNames(classes){return classes.trim().split(\" \").reduce((prev,cur)=>{const trimmed=cur.trim();return trimmed&&prev.push(trimmed),prev},[])}ngAfterViewInit(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){if(Object(_angular_common__WEBPACK_IMPORTED_MODULE_1__.isPlatformServer)(this.platformId))return;const Quill=yield this.service.getQuill();this.elementRef.nativeElement.insertAdjacentHTML(\"top\"===this.customToolbarPosition?\"beforeend\":\"afterbegin\",this.preserveWhitespace?\"<pre quill-editor-element></pre>\":\"<div quill-editor-element></div>\"),this.editorElem=this.elementRef.nativeElement.querySelector(\"[quill-editor-element]\");const toolbarElem=this.elementRef.nativeElement.querySelector(\"[quill-editor-toolbar]\"),modules=Object.assign({},this.modules||this.service.config.modules);toolbarElem?modules.toolbar=toolbarElem:void 0===modules.toolbar&&(modules.toolbar=defaultModules.toolbar);let placeholder=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===placeholder&&(placeholder=\"Insert text here ...\"),this.styles&&Object.keys(this.styles).forEach(key=>{this.renderer.setStyle(this.editorElem,key,this.styles[key])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(customOption=>{const newCustomOption=Quill.import(customOption.import);newCustomOption.whitelist=customOption.whitelist,Quill.register(newCustomOption,!0)}),this.customModules.forEach(({implementation:implementation,path:path})=>{Quill.register(path,implementation)});let bounds=this.bounds&&\"self\"===this.bounds?this.editorElem:this.bounds;bounds||(bounds=this.service.config.bounds?this.service.config.bounds:this.doc.body);let debug=this.debug;!debug&&!1!==debug&&this.service.config.debug&&(debug=this.service.config.debug);let readOnly=this.readOnly;readOnly||!1===this.readOnly||(readOnly=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let scrollingContainer=this.scrollingContainer;scrollingContainer||null===this.scrollingContainer||(scrollingContainer=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let formats=this.formats;if(formats||void 0!==formats||(formats=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{this.quillEditor=new Quill(this.editorElem,{bounds:bounds,debug:debug,formats:formats,modules:modules,placeholder:placeholder,readOnly:readOnly,scrollingContainer:scrollingContainer,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:\"snow\")})}),this.content){const format=getFormat(this.format,this.service.config.format);if(\"object\"===format)this.quillEditor.setContents(this.content,\"silent\");else if(\"text\"===format)this.quillEditor.setText(this.content,\"silent\");else if(\"json\"===format)try{this.quillEditor.setContents(JSON.parse(this.content),\"silent\")}catch(e){this.quillEditor.setText(this.content,\"silent\")}else{this.sanitize&&(this.content=this.domSanitizer.sanitize(_angular_core__WEBPACK_IMPORTED_MODULE_2__.SecurityContext.HTML,this.content));const contents=this.quillEditor.clipboard.convert(this.content);this.quillEditor.setContents(contents,\"silent\")}this.quillEditor.getModule(\"history\").clear()}this.setDisabledState(),this.quillEditor.on(\"editor-change\",this.editorChangeHandler),this.quillEditor.on(\"selection-change\",this.selectionChangeHandler),this.quillEditor.on(\"text-change\",this.textChangeHandler),setTimeout(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.quillEditor&&(this.quillEditor.off(\"selection-change\",this.selectionChangeHandler),this.quillEditor.off(\"text-change\",this.textChangeHandler),this.quillEditor.off(\"editor-change\",this.editorChangeHandler))}ngOnChanges(changes){if(this.quillEditor){if(changes.readOnly&&this.quillEditor.enable(!changes.readOnly.currentValue),changes.placeholder&&(this.quillEditor.root.dataset.placeholder=changes.placeholder.currentValue),changes.styles){const currentStyling=changes.styles.currentValue,previousStyling=changes.styles.previousValue;previousStyling&&Object.keys(previousStyling).forEach(key=>{this.renderer.removeStyle(this.editorElem,key)}),currentStyling&&Object.keys(currentStyling).forEach(key=>{this.renderer.setStyle(this.editorElem,key,this.styles[key])})}if(changes.classes){const currentClasses=changes.classes.currentValue,previousClasses=changes.classes.previousValue;previousClasses&&this.removeClasses(previousClasses),currentClasses&&this.addClasses(currentClasses)}}}addClasses(classList){QuillEditorBase_1.normalizeClassNames(classList).forEach(c=>{this.renderer.addClass(this.editorElem,c)})}removeClasses(classList){QuillEditorBase_1.normalizeClassNames(classList).forEach(c=>{this.renderer.removeClass(this.editorElem,c)})}writeValue(currentValue){this.content=currentValue;const format=getFormat(this.format,this.service.config.format);if(this.quillEditor){if(currentValue)return void(\"text\"===format?this.quillEditor.setText(currentValue):this.quillEditor.setContents(this.valueSetter(this.quillEditor,this.content)));this.quillEditor.setText(\"\")}}setDisabledState(isDisabled=this.disabled){this.disabled=isDisabled,this.quillEditor&&(isDisabled?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,\"disabled\",\"disabled\")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,\"disabled\")))}registerOnChange(fn){this.onModelChange=fn}registerOnTouched(fn){this.onModelTouched=fn}registerOnValidatorChange(fn){this.onValidatorChanged=fn}validate(){if(!this.quillEditor)return null;const err={};let valid=!0;const text=this.quillEditor.getText(),textLength=this.trimOnValidation?text.trim().length:1===text.length&&0===text.trim().length?0:text.length-1;return this.minLength&&textLength&&textLength<this.minLength&&(err.minLengthError={given:textLength,minLength:this.minLength},valid=!1),this.maxLength&&textLength>this.maxLength&&(err.maxLengthError={given:textLength,maxLength:this.maxLength},valid=!1),this.required&&!textLength&&(err.requiredError={empty:!0},valid=!1),valid?null:err}};return QuillEditorBase.ɵfac=function(t){return new(t||QuillEditorBase)(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_core__WEBPACK_IMPORTED_MODULE_2__.ElementRef),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__.DomSanitizer),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_common__WEBPACK_IMPORTED_MODULE_1__.DOCUMENT),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_core__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_core__WEBPACK_IMPORTED_MODULE_2__.Renderer2),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgZone),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](QuillService))},QuillEditorBase.ɵdir=_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdefineDirective\"]({type:QuillEditorBase,inputs:{required:\"required\",customToolbarPosition:\"customToolbarPosition\",sanitize:\"sanitize\",styles:\"styles\",strict:\"strict\",customOptions:\"customOptions\",customModules:\"customModules\",preserveWhitespace:\"preserveWhitespace\",trimOnValidation:\"trimOnValidation\",valueGetter:\"valueGetter\",valueSetter:\"valueSetter\",format:\"format\",theme:\"theme\",modules:\"modules\",debug:\"debug\",readOnly:\"readOnly\",placeholder:\"placeholder\",maxLength:\"maxLength\",minLength:\"minLength\",formats:\"formats\",scrollingContainer:\"scrollingContainer\",bounds:\"bounds\",trackChanges:\"trackChanges\",classes:\"classes\"},outputs:{onEditorCreated:\"onEditorCreated\",onEditorChanged:\"onEditorChanged\",onContentChanged:\"onContentChanged\",onSelectionChanged:\"onSelectionChanged\",onFocus:\"onFocus\",onBlur:\"onBlur\"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵNgOnChangesFeature\"]]}),QuillEditorBase})(),QuillEditorComponent=(()=>{let QuillEditorComponent=QuillEditorComponent_1=class extends QuillEditorBase{constructor(elementRef,domSanitizer,doc,platformId,renderer,zone,service){super(elementRef,domSanitizer,doc,platformId,renderer,zone,service)}};return QuillEditorComponent.ɵfac=function(t){return new(t||QuillEditorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_core__WEBPACK_IMPORTED_MODULE_2__.ElementRef),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__.DomSanitizer),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_common__WEBPACK_IMPORTED_MODULE_1__.DOCUMENT),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_core__WEBPACK_IMPORTED_MODULE_2__.PLATFORM_ID),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_core__WEBPACK_IMPORTED_MODULE_2__.Renderer2),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgZone),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdirectiveInject\"](QuillService))},QuillEditorComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdefineComponent\"]({type:QuillEditorComponent,selectors:[[\"quill-editor\"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵProvidersFeature\"]([{multi:!0,provide:_angular_forms__WEBPACK_IMPORTED_MODULE_4__.k,useExisting:Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(()=>QuillEditorComponent_1)},{multi:!0,provide:_angular_forms__WEBPACK_IMPORTED_MODULE_4__.j,useExisting:Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(()=>QuillEditorComponent_1)}]),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵInheritDefinitionFeature\"]],ngContentSelectors:_c1,decls:1,vars:0,template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵprojectionDef\"](_c0),_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵprojection\"](0))},encapsulation:2}),QuillEditorComponent})();var QuillModule_1;let QuillModule=(()=>{let QuillModule=QuillModule_1=class{static forRoot(config){return{ngModule:QuillModule_1,providers:[{provide:QUILL_CONFIG_TOKEN,useValue:config}]}}};return QuillModule.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdefineNgModule\"]({type:QuillModule}),QuillModule.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_2__[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||QuillModule)},providers:[QuillService],imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_1__.CommonModule]]}),QuillModule})()}}]);","extractedComments":[]}