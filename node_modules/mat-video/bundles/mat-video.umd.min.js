!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/material/button"),require("@angular/material/icon"),require("@angular/material/slider"),require("@angular/cdk/a11y"),require("@angular/cdk/bidi")):"function"==typeof define&&define.amd?define("mat-video",["exports","@angular/common","@angular/core","@angular/material/button","@angular/material/icon","@angular/material/slider","@angular/cdk/a11y","@angular/cdk/bidi"],t):t((e=e||self)["mat-video"]={},e.ng.common,e.ng.core,e.ng.material.button,e.ng.material.icon,e.ng.material.slider,e.ng.cdk.a11y,e.ng.cdk.bidi)}(this,function(e,t,n,i,r,o,s,a){"use strict";var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function u(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}var c=function(){function e(){}return e.prototype.addEvents=function(e,t){var n,i,r=function(t){t.dispose=e.listen(t.element,t.name,function(e){return t.callback(e)})};try{for(var o=u(t),s=o.next();!s.done;s=o.next()){r(s.value)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.removeEvents=function(e){var t,n;try{for(var i=u(e),r=i.next();!r.done;r=i.next()){var o=r.value;o.dispose&&o.dispose()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(),d=function(){function e(e,t){this.renderer=e,this.evt=t,this.src=null,this.title=null,this.autoplay=!1,this.preload=!0,this.loop=!1,this.quality=!0,this.fullscreen=!0,this.playsinline=!1,this.showFrameByFrame=!1,this.fps=29.97,this.download=!1,this.color="primary",this.spinner="spin",this.poster=null,this.keyboard=!0,this.overlay=null,this.muted=!1,this.mutedChange=new n.EventEmitter,this.timeChange=new n.EventEmitter,this.playing=!1,this.isFullscreen=!1,this.videoLoaded=!1,this.isMouseMoving=!1,this.isMouseMovingTimeout=2e3}return Object.defineProperty(e.prototype,"time",{get:function(){return this.getVideoTag().currentTime},set:function(e){var t=this,n=this.getVideoTag();n&&e&&(e>n.duration&&(e=n.duration),e<0&&(e=0),e!==n.currentTime&&(n.currentTime=e),this.lastTime!==n.currentTime&&(setTimeout(function(){return t.timeChange.emit(n.currentTime)},0),this.lastTime=n.currentTime))},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this.events=[{element:this.video.nativeElement,name:"loadstart",callback:function(t){return e.videoLoaded=!1},dispose:null},{element:this.video.nativeElement,name:"loadedmetadata",callback:function(t){return e.evLoadedMetadata(t)},dispose:null},{element:this.video.nativeElement,name:"error",callback:function(e){return console.error("Unhandled Video Error",e)},dispose:null},{element:this.video.nativeElement,name:"contextmenu",callback:function(e){return e.preventDefault()},dispose:null},{element:this.video.nativeElement,name:"timeupdate",callback:function(t){return e.evTimeUpdate(t)},dispose:null},{element:this.player.nativeElement,name:"mousemove",callback:function(t){return e.evMouseMove(t)},dispose:null}],this.video.nativeElement.onloadeddata=function(){return e.videoLoaded=!0},this.evt.addEvents(this.renderer,this.events),this.setVideoSrc(this.src)},e.prototype.ngOnChanges=function(e){e.src&&this.setVideoSrc(this.src)},e.prototype.ngOnDestroy=function(){this.video.nativeElement.onloadeddata=null,this.evt.removeEvents(this.events)},e.prototype.load=function(){this.video&&this.video.nativeElement&&this.video.nativeElement.load()},e.prototype.getVideoTag=function(){return this.video&&this.video.nativeElement?this.video.nativeElement:null},e.prototype.evLoadedMetadata=function(e){this.videoWidth=this.video.nativeElement.videoWidth,this.videoHeight=this.video.nativeElement.videoHeight,this.videoLoaded=!0},e.prototype.evMouseMove=function(e){var t=this;this.isMouseMoving=!0,clearTimeout(this.isMouseMovingTimer),this.isMouseMovingTimer=setTimeout(function(){t.isMouseMoving=!1},this.isMouseMovingTimeout)},e.prototype.evTimeUpdate=function(e){this.time=this.getVideoTag().currentTime},e.prototype.getOverlayClass=function(e,t){return null===this.overlay?!this.playing||this.isMouseMoving?e:t:this.overlay?e:t},e.prototype.setVideoSrc=function(e){this.srcObjectURL&&(URL.revokeObjectURL(this.srcObjectURL),this.srcObjectURL=null),this.video&&this.video.nativeElement&&(e?"string"==typeof e?this.video.nativeElement.src=e:"srcObject"in HTMLVideoElement.prototype?this.video.nativeElement.srcObject=e:(this.srcObjectURL=URL.createObjectURL(e),this.video.nativeElement.src=this.srcObjectURL):(this.video.nativeElement.src=null,"srcObject"in HTMLVideoElement.prototype&&(this.video.nativeElement.srcObject=new MediaStream)),this.video.nativeElement.muted=this.muted)},e.decorators=[{type:n.Component,args:[{selector:"mat-video",template:'<div #player class="videoplayer" [ngClass]="getOverlayClass(\'show-mouse\', \'hide-mouse\')">\n  <div class="header" *ngIf="title" [ngClass]="getOverlayClass(\'visible\', \'hidden\')">\n    {{ title }}\n  </div>\n\n  <video\n    #video\n    class="video"\n    [attr.autoplay]="autoplay ? true : null"\n    [preload]="preload ? \'auto\' : \'metadata\'"\n    [attr.poster]="poster ? poster : null"\n    [attr.loop]="loop ? loop : null"\n    [attr.playsinline]="playsinline ? true : null"\n  >\n    <ng-content select="source"></ng-content>\n    <ng-content select="track"></ng-content>\n    This browser does not support HTML5 video.\n  </video>\n\n  <div class="controls" *ngIf="videoLoaded" [ngClass]="getOverlayClass(\'visible\', \'hidden\')">\n    <div class="progress">\n      <mat-seek-progress-control [color]="color" [video]="video"></mat-seek-progress-control>\n    </div>\n\n    <div class="menu">\n      <div class="left">\n        <mat-play-button (playChanged)="playing = $event" [video]="video" [keyboard]="keyboard"> </mat-play-button>\n\n        <mat-frame-by-frame-control *ngIf="showFrameByFrame" [video]="video" [fps]="fps"></mat-frame-by-frame-control>\n\n        <mat-volume-control\n          [muted]="muted"\n          (mutedChanged)="muted = $event; mutedChange.emit(muted)"\n          [color]="color"\n          [video]="video"\n          [keyboard]="keyboard"\n        >\n        </mat-volume-control>\n\n        <mat-time-control [video]="video"></mat-time-control>\n      </div>\n\n      <div class="right">\n        <mat-quality-control *ngIf="quality" [video]="video"></mat-quality-control>\n\n        <mat-download-button *ngIf="download" [title]="title" [video]="video"></mat-download-button>\n\n        <mat-fullscreen-button\n          *ngIf="fullscreen"\n          (fullscreenChanged)="isFullscreen = $event"\n          [player]="player"\n          [keyboard]="keyboard"\n        ></mat-fullscreen-button>\n      </div>\n    </div>\n  </div>\n\n  <mat-video-spinner [spinner]="spinner" [video]="video"></mat-video-spinner>\n</div>\n',styles:['.videoplayer{font-family:Roboto,"Helvetica Neue",sans-serif;background-color:#000;position:relative;width:100%;height:100%}.header{color:#fff;display:flex;justify-content:center;align-items:center;position:absolute;left:0;top:0;padding:14px 0;width:100%;z-index:1;background-image:linear-gradient(to top,rgba(0,0,0,0),rgba(0,0,0,.65))}.video{display:block;width:100%;height:100%;z-index:0}.controls{color:#fff;position:absolute;left:0;bottom:0;width:100%;z-index:1;background-image:linear-gradient(to bottom,rgba(0,0,0,0),rgba(0,0,0,.65))}.controls .progress{height:26px}.controls .menu{display:flex;align-items:center;flex-direction:row;justify-content:space-between;height:48px}.controls .menu .left{justify-content:flex-start}.controls .menu .right{justify-content:flex-end}.visible{visibility:visible;opacity:1;transition:opacity .5s linear}.hidden{visibility:hidden;opacity:0;transition:visibility .5s,opacity .5s linear}.show-mouse{cursor:default}.hide-mouse{cursor:none}','@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v36/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2) format("woff2")}::ng-deep.material-icons{font-family:"Material Icons";font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;font-feature-settings:"liga";-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}']}]}],e.ctorParameters=function(){return[{type:n.Renderer2},{type:c}]},e.propDecorators={player:[{type:n.ViewChild,args:["player",{static:!1}]}],video:[{type:n.ViewChild,args:["video",{static:!1}]}],src:[{type:n.Input}],title:[{type:n.Input}],autoplay:[{type:n.Input}],preload:[{type:n.Input}],loop:[{type:n.Input}],quality:[{type:n.Input}],fullscreen:[{type:n.Input}],playsinline:[{type:n.Input}],showFrameByFrame:[{type:n.Input}],fps:[{type:n.Input}],download:[{type:n.Input}],color:[{type:n.Input}],spinner:[{type:n.Input}],poster:[{type:n.Input}],keyboard:[{type:n.Input}],overlay:[{type:n.Input}],muted:[{type:n.Input}],mutedChange:[{type:n.Output}],timeChange:[{type:n.Output}],time:[{type:n.Input}]},e}(),p=function(){function e(e,t){this.matVideoComponent=e,this.el=t,this.src=null,this.type=null,this.init=!0,this.video=e,this.source=t.nativeElement,this.init=!1}return e.prototype.ngOnChanges=function(e){this.source.src=this.src,this.source.type=this.type,this.init||this.video.load()},e.decorators=[{type:n.Directive,args:[{selector:"[matVideoSource]"}]}],e.ctorParameters=function(){return[{type:d,decorators:[{type:n.Host}]},{type:n.ElementRef}]},e.propDecorators={src:[{type:n.Input}],type:[{type:n.Input}]},e}(),m=function(){function e(e,t){this.matVideoComponent=e,this.el=t,this.src=null,this.kind=null,this.srclang=null,this.label=null,this.init=!0,this.video=e,this.track=t.nativeElement,this.init=!1}return e.prototype.ngOnChanges=function(e){this.track.src=this.src,this.track.kind=this.kind,this.track.srclang=this.srclang,this.track.label=this.label,this.init||this.video.load()},e.decorators=[{type:n.Directive,args:[{selector:"[matVideoTrack]"}]}],e.ctorParameters=function(){return[{type:d,decorators:[{type:n.Host}]},{type:n.ElementRef}]},e.propDecorators={src:[{type:n.Input}],kind:[{type:n.Input}],srclang:[{type:n.Input}],label:[{type:n.Input}]},e}(),h=0,f=function(e){function t(t,n,i,r,o){var s=e.call(this,t,n,i,r,o)||this;return s.mode="buffer",s.value=0,s.pBufferValue=0,s.sliderprogressbarId="mat-slider-progress-bar-"+h++,s.tabIndex=parseInt(o,10)||0,s}return function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"bufferValue",{get:function(){return this.pBufferValue},set:function(e){this.pBufferValue=function(e,t,n){void 0===t&&(t=0);void 0===n&&(n=100);return Math.max(t,Math.min(n,e))}(e||0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_trackBufferStyles",{get:function(){if("buffer"===this.mode){var e=this.vertical?"Y":"X";return{transform:"translate"+e+"(0px) scale"+e+"("+this.pBufferValue/100+")"}}},enumerable:!0,configurable:!0}),t.decorators=[{type:n.Component,args:[{selector:"mat-slider-progress-bar",template:'<div class="mat-slider-wrapper" #sliderWrapper>\r\n  <div class="mat-slider-track-wrapper">\r\n    <svg width="100%" height="2" focusable="false" class="mat-slider-progress-background">\r\n      <defs>\r\n        <pattern [id]="sliderprogressbarId" x="2.5" y="0" width="5" height="2.5" patternUnits="userSpaceOnUse">\r\n          <circle cx="1.25" cy="1.25" r="1.25" />\r\n        </pattern>\r\n      </defs>\r\n      <rect [attr.fill]="\'url(#\' + sliderprogressbarId + \')\'" width="100%" height="100%" />\r\n    </svg>\r\n    <div class="mat-slider-track-fill mat-slider-track-buffer" [ngStyle]="_trackBufferStyles"></div>\r\n    <div class="mat-slider-track-fill" [ngStyle]="_trackFillStyles"></div>\r\n  </div>\r\n  <div class="mat-slider-ticks-container" [ngStyle]="_ticksContainerStyles">\r\n    <div class="mat-slider-ticks" [ngStyle]="_ticksStyles"></div>\r\n  </div>\r\n  <div class="mat-slider-thumb-container" [ngStyle]="_thumbContainerStyles">\r\n    <div class="mat-slider-focus-ring"></div>\r\n    <div class="mat-slider-thumb"></div>\r\n    <div class="mat-slider-thumb-label">\r\n      <span class="mat-slider-thumb-label-text">{{ displayValue }}</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n',providers:[o.MAT_SLIDER_VALUE_ACCESSOR],host:{"(focus)":"_onFocus()","(blur)":"_onBlur()","(click)":'this["_onClick"] ? this["_onClick"]($event) : null',"(mousedown)":'this["_onMousedown"] ? this["_onMousedown"]($event) : null',"(keydown)":"_onKeydown($event)","(keyup)":"_onKeyup()","(mouseenter)":"_onMouseenter()","(slide)":"_onSlide($event)","(slideend)":"_onSlideEnd()","(slidestart)":"_onSlideStart($event)",class:"mat-slider",role:"slider","[tabIndex]":"tabIndex","[attr.aria-disabled]":"disabled","[attr.aria-valuemax]":"max","[attr.aria-valuemin]":"min","[attr.aria-valuenow]":"value","[attr.aria-orientation]":'vertical ? "vertical" : "horizontal"',"[class.mat-slider-disabled]":"disabled","[class.mat-slider-has-ticks]":"tickInterval","[class.mat-slider-horizontal]":"!vertical","[class.mat-slider-axis-inverted]":"_invertAxis","[class.mat-slider-sliding]":"_isSliding","[class.mat-slider-thumb-label-showing]":"thumbLabel","[class.mat-slider-vertical]":"vertical","[class.mat-slider-min-value]":"_isMinValue","[class.mat-slider-hide-last-tick]":"disabled || _isMinValue && _thumbGap && _invertAxis"},inputs:["disabled","color","tabIndex"],changeDetection:n.ChangeDetectionStrategy.OnPush,styles:[":host{width:100%}.mat-slider-progress-background{position:absolute;height:2px;width:100%;fill:#d3d3d3}.mat-slider-track-buffer{background-color:#d3d3d3!important}.mat-slider-thumb{border-color:transparent!important;visibility:hidden;opacity:0;transition:visibility .2s,opacity .2s linear}:host:hover .mat-slider-thumb{visibility:visible;opacity:1;transition:opacity .2s linear}"]}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:s.FocusMonitor},{type:n.ChangeDetectorRef},{type:a.Directionality,decorators:[{type:n.Optional}]},{type:String,decorators:[{type:n.Attribute,args:["tabindex"]}]}]},t.propDecorators={mode:[{type:n.Input}],value:[{type:n.Input}],bufferValue:[{type:n.Input}]},t}(o.MatSlider);var v=function(){function e(){this.times={year:31557600,month:2629746,day:86400,hour:3600}}return e.prototype.transform=function(e){if(e){var t="";for(var n in this.times)Math.floor(e/this.times[n])>0&&(t+=Math.floor(e/this.times[n]).toString()+":",e-=this.times[n]*Math.floor(e/this.times[n]));return t+=Math.floor(e/60).toString()+":",e-=60*Math.floor(e/60),Math.floor(e)<10&&(t+="0"),t+=Math.floor(e).toString()}return"0:00"},e.decorators=[{type:n.Pipe,args:[{name:"secondsToTime"}]}],e}(),y=function(){function e(){this.fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],this.keyboardAllowed="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element;for(var e,t={},n=0;n<this.fnMap.length;n++)if((e=this.fnMap[n])&&e[1]in document){for(n=0;n<e.length;n++)t[this.fnMap[0][n].toString()]=e[n];this.fn=t}}return e.prototype.request=function(e){var t=this.fn.requestFullscreen;e=e||document.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](this.keyboardAllowed?Element.ALLOW_KEYBOARD_INPUT:{})},e.prototype.exit=function(){document[this.fn.exitFullscreen]()},e.prototype.toggle=function(e){this.isFullscreen()?this.exit():this.request(e)},e.prototype.onChange=function(e){document.addEventListener(this.fn.fullscreenchange,e,!1)},e.prototype.onError=function(e){document.addEventListener(this.fn.fullscreenerror,e,!1)},e.prototype.isFullscreen=function(){return Boolean(document[this.fn.fullscreenElement])},e.prototype.isEnabled=function(){return Boolean(document[this.fn.fullscreenEnabled])},e.prototype.getElement=function(){return document[this.fn.fullscreenElement]},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(),g=function(){function e(){}return e.decorators=[{type:n.Component,args:[{selector:"mat-download-button",template:'<a mat-icon-button [href]="video?.currentSrc" [download]="title">\r\n  <mat-icon>file_download</mat-icon>\r\n</a>\r\n',styles:["a{color:inherit;text-decoration:none}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={video:[{type:n.Input}],title:[{type:n.Input}]},e}(),b=function(){function e(){this.fps=29.97}return e.prototype.ngOnInit=function(){},e.prototype.seekFrames=function(e){this.video.paused||this.video.pause();var t=(this.video.currentTime*this.fps+e)/this.fps+1e-5;this.video.currentTime=t},e.decorators=[{type:n.Component,args:[{selector:"mat-frame-by-frame-control",template:'<button mat-icon-button (click)="seekFrames(-5)">\r\n  <mat-icon>skip_previous</mat-icon>\r\n</button>\r\n\r\n<button mat-icon-button (click)="seekFrames(-1)">\r\n  <mat-icon>arrow_left</mat-icon>\r\n</button>\r\n\r\n<button mat-icon-button (click)="seekFrames(1)">\r\n  <mat-icon>arrow_right</mat-icon>\r\n</button>\r\n\r\n<button mat-icon-button (click)="seekFrames(5)">\r\n  <mat-icon>skip_next</mat-icon>\r\n</button>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={video:[{type:n.Input}],fps:[{type:n.Input}]},e}(),k=function(){function e(e,t){this.fscreen=e,this.evt=t,this.canFullscreen=!1,this.fullscreen=!1,this.fullscreenChanged=new n.EventEmitter,this.keyboard=!0}return e.prototype.ngOnInit=function(){var e=this;this.fscreen.isEnabled()&&(this.canFullscreen=!0),this.fscreen.onChange(function(t){return e.fscreen.isFullscreen()?e.onChangesFullscreen(!0):e.onChangesFullscreen(!1)})},e.prototype.setFullscreen=function(e){this.canFullscreen&&this.fullscreen!==e&&this.toggleFullscreen()},e.prototype.toggleFullscreen=function(){this.fullscreen=!this.fullscreen,this.updateFullscreen()},e.prototype.updateFullscreen=function(){this.fullscreen?this.fscreen.request(this.player):this.fscreen.exit(),this.fullscreenChanged.emit(this.fullscreen)},e.prototype.onChangesFullscreen=function(e){this.fullscreen=e,this.fullscreenChanged.emit(this.fullscreen)},e.prototype.onFullscreenKey=function(e){this.keyboard&&(this.toggleFullscreen(),e.preventDefault())},e.decorators=[{type:n.Component,args:[{selector:"mat-fullscreen-button",template:'<button mat-icon-button [disabled]="!canFullscreen" (click)="toggleFullscreen()">\r\n  <mat-icon *ngIf="!fullscreen">fullscreen</mat-icon>\r\n  <mat-icon *ngIf="fullscreen">fullscreen_exit</mat-icon>\r\n</button>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:y},{type:c}]},e.propDecorators={player:[{type:n.Input}],fullscreen:[{type:n.Input}],fullscreenChanged:[{type:n.Output}],keyboard:[{type:n.Input}],onFullscreenKey:[{type:n.HostListener,args:["document:keyup.f",["$event"]]}]},e}(),w=function(){function e(e,t){this.renderer=e,this.evt=t,this.play=!1,this.playChanged=new n.EventEmitter,this.keyboard=!0}return e.prototype.ngAfterViewInit=function(){var e=this;this.events=[{element:this.video,name:"play",callback:function(t){return e.setVideoPlayback(!0)},dispose:null},{element:this.video,name:"pause",callback:function(t){return e.setVideoPlayback(!1)},dispose:null},{element:this.video,name:"durationchange",callback:function(t){return e.setVideoPlayback(!1)},dispose:null},{element:this.video,name:"ended",callback:function(t){return e.setVideoPlayback(!1)},dispose:null},{element:this.video,name:"click",callback:function(t){return e.toggleVideoPlayback()},dispose:null}],this.evt.addEvents(this.renderer,this.events)},e.prototype.ngOnDestroy=function(){this.evt.removeEvents(this.events)},e.prototype.setVideoPlayback=function(e){this.play!==e&&this.toggleVideoPlayback()},e.prototype.toggleVideoPlayback=function(){this.play=!this.play,this.updateVideoPlayback()},e.prototype.updateVideoPlayback=function(){this.play?this.video.play():this.video.pause(),this.playChanged.emit(this.play)},e.prototype.onPlayKey=function(e){this.keyboard&&(this.toggleVideoPlayback(),e.preventDefault())},e.decorators=[{type:n.Component,args:[{selector:"mat-play-button",template:'<button mat-icon-button (click)="toggleVideoPlayback()">\r\n  <mat-icon *ngIf="!play">play_arrow</mat-icon>\r\n  <mat-icon *ngIf="play">pause</mat-icon>\r\n</button>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:n.Renderer2},{type:c}]},e.propDecorators={video:[{type:n.Input}],play:[{type:n.Input}],playChanged:[{type:n.Output}],keyboard:[{type:n.Input}],onPlayKey:[{type:n.HostListener,args:["document:keyup.space",["$event"]]}]},e}(),I=function(){function e(){}return e.decorators=[{type:n.Component,args:[{selector:"mat-quality-control",template:'<div *ngIf="video && video.videoHeight" class="quality">{{ video.videoHeight }}p</div>\r\n',styles:[".quality{display:inline-block;font-size:12px;padding-left:12px;padding-right:12px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={video:[{type:n.Input}]},e}(),E=function(){function e(e,t){this.renderer=e,this.evt=t,this.curTimePercent=0,this.bufTimePercent=0,this.video=null,this.color="primary",this.currentTime=0,this.currentTimeChanged=new n.EventEmitter,this.bufferedTime=0,this.bufferedTimeChanged=new n.EventEmitter}return e.prototype.ngAfterViewInit=function(){var e=this;this.events=[{element:this.video,name:"seeking",callback:function(t){return e.updateCurrentTime(e.video.currentTime)},dispose:null},{element:this.video,name:"canplaythrough",callback:function(t){return e.updateBufferedTime()},dispose:null},{element:this.video,name:"timeupdate",callback:function(t){return e.updateCurrentTime(e.video.currentTime)},dispose:null},{element:this.video,name:"progress",callback:function(t){return e.updateBufferedTime()},dispose:null}],this.evt.addEvents(this.renderer,this.events)},e.prototype.ngOnDestroy=function(){this.evt.removeEvents(this.events)},e.prototype.seekVideo=function(e){var t=e/100,n=this.video.duration*t;this.video.currentTime=n},e.prototype.updateCurrentTime=function(e){this.currentTime=e,this.curTimePercent=this.updateTime(this.currentTimeChanged,this.currentTime)},e.prototype.updateBufferedTime=function(){if(this.video.buffered.length>0){for(var e=0,t=0;t<this.video.buffered.length;t++){var n=this.video.currentTime,i=this.video.buffered.start(t),r=this.video.buffered.end(t);i<=n&&r>n&&r-i>e&&(e=r)}this.bufferedTime=e,this.bufTimePercent=this.updateTime(this.bufferedTimeChanged,this.bufferedTime)}},e.prototype.updateTime=function(e,t){return e.emit(t),t/this.video.duration*100},e.decorators=[{type:n.Component,args:[{selector:"mat-seek-progress-control",template:'<mat-slider-progress-bar\r\n  [color]="color"\r\n  mode="buffer"\r\n  step="0.01"\r\n  [value]="curTimePercent"\r\n  [bufferValue]="bufTimePercent"\r\n  (input)="seekVideo($event.value)"\r\n></mat-slider-progress-bar>\r\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:n.Renderer2},{type:c}]},e.propDecorators={video:[{type:n.Input}],color:[{type:n.Input}],currentTime:[{type:n.Input}],currentTimeChanged:[{type:n.Output}],bufferedTime:[{type:n.Input}],bufferedTimeChanged:[{type:n.Output}]},e}(),x=function(){function e(){}return e.decorators=[{type:n.Component,args:[{selector:"mat-time-control",template:'<div class="playtime">{{ video?.currentTime | secondsToTime }} / {{ video?.duration | secondsToTime }}</div>\r\n',styles:[".playtime{display:inline;font-size:12px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={video:[{type:n.Input}]},e}(),C=function(){function e(e,t){this.renderer=e,this.evt=t,this.spinner="spin",this.videoBuffering=!1,this.videoLoaded=!1,this.events=[]}return e.prototype.ngAfterViewInit=function(){var e=this;this.events=[{element:this.video,name:"loadstart",callback:function(t){return e.videoLoaded=!1},dispose:null},{element:this.video,name:"loadedmetadata",callback:function(t){return e.videoLoaded=!0},dispose:null},{element:this.video,name:"canplay",callback:function(t){return e.videoBuffering=!1},dispose:null},{element:this.video,name:"waiting",callback:function(t){return e.videoBuffering=!0},dispose:null},{element:this.video,name:"durationchange",callback:function(t){return e.videoBuffering=!0},dispose:null}],this.video.onloadeddata=function(){return e.videoLoaded=!0},this.evt.addEvents(this.renderer,this.events)},e.prototype.ngOnDestroy=function(){this.video.onloadeddata=null,this.evt.removeEvents(this.events)},e.decorators=[{type:n.Component,args:[{selector:"mat-video-spinner",template:'<div *ngIf="!videoLoaded || videoBuffering" [class]="spinner"></div>\r\n',styles:[":host{position:absolute;left:calc(50% - 32px);top:calc(50% - 32px);z-index:1}",".spin{box-sizing:border-box;width:64px;height:64px;border-radius:100%;border:10px solid rgba(255,255,255,.2);border-top-color:#fff;-webkit-animation:1s linear infinite spin;animation:1s linear infinite spin}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}",".dot{width:64px;height:64px;background-color:#fff;border-radius:100%;-webkit-animation:1s ease-in-out infinite dot;animation:1s ease-in-out infinite dot}@-webkit-keyframes dot{0%{-webkit-transform:scale(0)}100%{-webkit-transform:scale(1);opacity:0}}@keyframes dot{0%{transform:scale(0)}100%{transform:scale(1);opacity:0}}",'.split-ring{display:inline-block;width:64px;height:64px}.split-ring:after{content:" ";display:block;width:46px;height:46px;margin:1px;border-radius:50%;border:5px solid #fff;border-color:#fff transparent;-webkit-animation:1.2s linear infinite split-ring;animation:1.2s linear infinite split-ring}@-webkit-keyframes split-ring{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes split-ring{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}','.hourglass{display:inline-block;position:relative;width:64px;height:64px}.hourglass:after{content:" ";display:block;border-radius:50%;width:0;height:0;margin:6px;box-sizing:border-box;border:26px solid #fff;border-color:#fff transparent;-webkit-animation:1.2s infinite hourglass;animation:1.2s infinite hourglass}@-webkit-keyframes hourglass{0%{-webkit-transform:rotate(0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19)}50%{-webkit-transform:rotate(360deg);-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1)}100%{-webkit-transform:rotate(720deg)}}@keyframes hourglass{0%{transform:rotate(0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}50%{transform:rotate(360deg);-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}100%{transform:rotate(720deg)}}']}]}],e.ctorParameters=function(){return[{type:n.Renderer2},{type:c}]},e.propDecorators={video:[{type:n.Input}],spinner:[{type:n.Input}]},e}(),M=function(){function e(e){this.evt=e,this.video=null,this.color="primary",this.volume=1,this.volumeChanged=new n.EventEmitter,this.muted=!1,this.mutedChanged=new n.EventEmitter,this.keyboard=!0}return e.prototype.ngAfterViewInit=function(){this.updateMuted(!1)},e.prototype.ngOnChanges=function(e){e.muted&&this.updateMuted(!1)},e.prototype.setVolume=function(e){this.volume=e,this.video.volume=this.volume,this.volumeChanged.emit(this.volume),this.volume>0&&this.setMuted(!1)},e.prototype.setMuted=function(e){this.muted!==e&&this.toggleMuted()},e.prototype.toggleMuted=function(){this.muted=!this.muted,this.updateMuted()},e.prototype.updateMuted=function(e){void 0===e&&(e=!0),this.video&&(this.video.muted=this.muted),e&&this.mutedChanged.emit(this.muted)},e.prototype.onMuteKey=function(e){this.keyboard&&(this.toggleMuted(),e.preventDefault())},e.decorators=[{type:n.Component,args:[{selector:"mat-volume-control",template:'<div class="volume-control">\r\n  <button mat-icon-button (click)="toggleMuted()">\r\n    <mat-icon *ngIf="muted || volume === 0">volume_off</mat-icon>\r\n    <mat-icon *ngIf="!muted && volume > 0 && volume < 0.25">volume_mute</mat-icon>\r\n    <mat-icon *ngIf="!muted && volume >= 0.25 && volume < 0.5">volume_down</mat-icon>\r\n    <mat-icon *ngIf="!muted && volume >= 0.5">volume_up</mat-icon>\r\n  </button>\r\n  <mat-slider class="volume-slider" [color]="color" min="0" max="1" step="0.01" value="1" (input)="setVolume($event.value)"> </mat-slider>\r\n</div>\r\n',styles:[".volume-control{display:inline}.volume-slider{margin-left:-15px}::ng-deep.mat-slider-thumb{border-color:transparent!important}::ng-deep.mat-slider-track-background{background-color:#d3d3d3!important;transform:translateX(0)!important}.volume-control .volume-slider{visibility:hidden;opacity:0;min-width:0;width:0;transition:visibility .2s,opacity .2s linear,width .2s linear}.volume-control:hover .volume-slider{visibility:visible;opacity:1;min-width:90px;width:90px;transition:opacity .2s linear,width .2s linear,min-width .2s linear}"]}]}],e.ctorParameters=function(){return[{type:c}]},e.propDecorators={video:[{type:n.Input}],color:[{type:n.Input}],volume:[{type:n.Input}],volumeChanged:[{type:n.Output}],muted:[{type:n.Input}],mutedChanged:[{type:n.Output}],keyboard:[{type:n.Input}],onMuteKey:[{type:n.HostListener,args:["document:keyup.m",["$event"]]}]},e}(),T=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[v,d,f,w,M,g,k,x,I,C,E,p,m,b],imports:[t.CommonModule,r.MatIconModule,i.MatButtonModule,o.MatSliderModule],exports:[d,p,m],providers:[y,c]}]}],e}();e.MatVideoModule=T,e.ɵa=v,e.ɵb=d,e.ɵc=c,e.ɵd=f,e.ɵe=w,e.ɵf=M,e.ɵg=g,e.ɵh=k,e.ɵi=y,e.ɵj=x,e.ɵk=I,e.ɵl=C,e.ɵm=E,e.ɵn=p,e.ɵo=m,e.ɵp=b,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=mat-video.umd.min.js.map