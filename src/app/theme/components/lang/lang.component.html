<a mat-button [matMenuTriggerFor]="langMenu" #langMenuTrigger="matMenuTrigger">
    <img *ngIf="!appService.company.displayShortLang" [src]="flag.image" width="18">
    <span *ngIf="!appService.company.displayShortLang" fxShow="false" fxShow.gt-md class="uppercase flag-name">{{flag.name}}</span>
    <span *ngIf="appService.company.displayShortLang" fxShow="false" fxShow.gt-md class="uppercase flag-name">{{flag.code}}</span>
    <mat-icon class="mat-icon-sm caret">arrow_drop_down</mat-icon>
</a>
<mat-menu #langMenu="matMenu" [overlapTrigger]="false" xPosition="before" class="app-menu-panel">
    <span *ngIf="!appService.company.displayShortLang" (mouseleave)="langMenuTrigger.closeMenu()">
        <button mat-menu-item *ngFor="let flag of flags" (click)="changeLang(flag)">
            <img [src]="flag.image" width="18" class="mat-elevation-z1"><span class="flag-name">{{flag.name}}</span>
        </button>
    </span>

    <span *ngIf="appService.company.displayShortLang" (mouseleave)="langMenuTrigger.closeMenu()">
        <button mat-menu-item *ngFor="let flag of flags" (click)="changeLang(flag)">
             <span class="flag-name">{{flag.code}}</span>
        </button>
    </span>
</mat-menu>